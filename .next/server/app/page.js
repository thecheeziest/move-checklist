(()=>{var e={};e.id=974,e.ids=[974],e.modules={487:()=>{},559:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var n=r(5239),l=r(8088),i=r(8170),a=r.n(i),s=r(893),o={};for(let e in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>s[e]);r.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8823)),"C:\\Users\\hyuna\\Desktop\\1002\\-dev\\checklist\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,4431)),"C:\\Users\\hyuna\\Desktop\\1002\\-dev\\checklist\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\hyuna\\Desktop\\1002\\-dev\\checklist\\src\\app\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3108:(e,t,r)=>{Promise.resolve().then(r.bind(r,7979))},3139:()=>{},3252:(e,t,r)=>{Promise.resolve().then(r.bind(r,3932))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},3932:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\hyuna\\\\Desktop\\\\1002\\\\-dev\\\\checklist\\\\src\\\\pages\\\\MainPage.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\hyuna\\Desktop\\1002\\-dev\\checklist\\src\\pages\\MainPage.tsx","default")},4431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>l});var n=r(7413);r(3139);let l={title:"∴∵∴ ୨୧ 체크리스트 ୨୧ ∴∵∴"};function i({children:e}){return(0,n.jsxs)("html",{lang:"ko",children:[(0,n.jsx)("head",{children:(0,n.jsx)("title",{children:"∴∵∴ ୨୧ 체크리스트 ୨୧ ∴∵∴"})}),(0,n.jsx)("body",{className:"min-h-screen bg-gradient-to-t from-blue-50 via-indigo-100 to-white",children:e})]})}},4543:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},5215:()=>{},5223:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},7979:(e,t,r)=>{"use strict";let n;r.d(t,{default:()=>ri});var l,i,a,s,o,d,c,u,h,m,g=r(687),p=r(3210),f=r.n(p);let x=({isActive:e,onClick:t,children:r,color:n,isLast:l=!1})=>{let i=`
    relative px-6 py-3 rounded-t-2xl font-medium transition-all duration-200 select-none text-sm z-10
    border border-gray-200 border-b-0
    ${e?"bg-white text-yellow-600 shadow-none":"bg-blue-100 text-blue-400 hover:bg-yellow-100 hover:text-yellow-600 shadow-none"}
    ${!l?"mr-4":""}
  `;return(0,g.jsx)("button",{onClick:t,className:`${i} ${{pink:e?"text-yellow-600":"text-gray-600 hover:bg-yellow-100 hover:text-yellow-600",green:e?"text-yellow-600":"text-gray-600 hover:bg-yellow-100 hover:text-yellow-600"}[n]}`,"aria-selected":e,role:"tab",children:(0,g.jsx)("span",{children:r})})},b=e=>{let t,r=new Set,n=(e,n)=>{let l="function"==typeof e?e(t):e;if(!Object.is(l,t)){let e=t;t=(null!=n?n:"object"!=typeof l||null===l)?l:Object.assign({},t,l),r.forEach(r=>r(t,e))}},l=()=>t,i={setState:n,getState:l,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(n,l,i);return i},v=e=>e?b(e):b,y=e=>e,w=e=>{let t=v(e),r=e=>(function(e,t=y){let r=p.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return p.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},j=e=>e?w(e):w,N=j(e=>({activeTab:"purchase",setActiveTab:t=>e({activeTab:t})})),k=()=>{let{activeTab:e,setActiveTab:t}=N(),r=[{id:"purchase",label:"구입",color:"pink"},{id:"schedule",label:"일정",color:"green"}];return(0,g.jsx)("div",{className:"flex justify-center mb-0",children:(0,g.jsx)("div",{className:"flex",children:r.map((n,l)=>(0,g.jsx)(x,{isActive:e===n.id,onClick:()=>t(n.id),color:n.color,isLast:l===r.length-1,children:n.label},n.id))})})},D="/api/purchase",C=async()=>{let e=await fetch(D),t=await e.json();if(!t.success)throw Error(t.error||"Failed to fetch purchase items");return t.data||[]},E=async e=>{let t=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!r.success)throw Error(r.error||"Failed to create purchase item");return r.data},P=async(e,t)=>{let r=await fetch(`${D}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!n.success)throw Error(n.error||"Failed to update purchase item");return n.data},S=async e=>{let t=await fetch(`${D}/${e}`,{method:"DELETE"}),r=await t.json();if(!r.success)throw Error(r.error||"Failed to delete purchase item")},M=e=>("string"==typeof e?parseInt(e.replace(/,/g,"")):e).toLocaleString(),L={category:"기타",brand:"",title:"",price:"",purchasedDate:"",isPurchased:!1,option:"",memo:"",url:""},R=j((e,t)=>({items:[],selectedItem:null,isDetailPanelOpen:!1,isAddFormOpen:!1,purchaseForm:L,isLoading:!1,error:null,fetchItems:async()=>{e({isLoading:!0,error:null});try{let t=(await C()).map(e=>({...e,category:e.category,price:M(e.price),createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}));e({items:t,isLoading:!1})}catch(t){t instanceof Error&&t.message.includes("500")?window.alert("서버가 주것습니다 -- ;;"):window.alert(t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다"),e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",isLoading:!1})}},addItem:async r=>{e({isLoading:!0,error:null});try{let n={category:r.category,brand:r.brand||void 0,title:r.title,price:r.price.replace(/,/g,""),purchasedDate:r.purchasedDate||void 0,isPurchased:r.isPurchased,option:r.option||void 0,memo:r.memo||void 0,url:r.url||void 0},l=await E(n),i={...l,category:l.category,price:M(l.price),createdAt:new Date(l.createdAt),updatedAt:new Date(l.updatedAt)};e(e=>({items:[...e.items,i],isLoading:!1,isAddFormOpen:!1,isDetailPanelOpen:!1,selectedItem:null})),window.alert("항목을 추가했어요 ! !"),t().resetPurchaseForm()}catch(t){t instanceof Error&&t.message.includes("400")?window.alert("잘못 입력햇다 햇짠아 ! ! !"):t instanceof Error&&t.message.includes("500")?window.alert("서버가 주것습니다 -- ;;"):window.alert("알 수 없는 오류가 발생했습니다"),e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",isLoading:!1})}},updateItem:async(t,r,n=!0)=>{e({isLoading:!0,error:null});try{let l={};void 0!==r.category&&(l.category=r.category),void 0!==r.brand&&(l.brand=r.brand),void 0!==r.title&&(l.title=r.title),void 0!==r.price&&(l.price=String(r.price).replace(/,/g,"")),void 0!==r.purchasedDate&&(l.purchasedDate=r.purchasedDate),void 0!==r.isPurchased&&(l.isPurchased=r.isPurchased),void 0!==r.option&&(l.option=r.option),void 0!==r.memo&&(l.memo=r.memo),void 0!==r.url&&(l.url=r.url),void 0===r.purchasedDate&&!1===r.isPurchased&&(l.purchasedDate=null);let i={id:t,...l},a=await P(t,i),s={...a,category:a.category,price:M(a.price),createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)};e(e=>({items:e.items.map(e=>e.id===t?s:e),isLoading:!1,isAddFormOpen:!1,isDetailPanelOpen:!1,selectedItem:null})),n&&window.alert("항목을 수정했어요 ! !")}catch(t){t instanceof Error&&t.message.includes("400")?window.alert("잘못 입력햇다 햇짠아 ! ! !"):t instanceof Error&&t.message.includes("500")?window.alert("서버가 주것습니다 -- ;;"):window.alert("알 수 없는 오류가 발생했습니다"),e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",isLoading:!1})}},deleteItem:async t=>{e({isLoading:!0,error:null});try{await S(t),e(e=>({items:e.items.filter(e=>e.id!==t),isLoading:!1,isAddFormOpen:!1,isDetailPanelOpen:!1,selectedItem:null})),window.alert("항목을 삭제했어요.. 안녕 ~ ~")}catch(t){t instanceof Error&&t.message.includes("400")?window.alert("잘못 입력햇다 햇짠아 ! ! !"):t instanceof Error&&t.message.includes("500")?window.alert("서버가 주것습니다 -- ;;"):window.alert("알 수 없는 오류가 발생했습니다"),e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",isLoading:!1})}},toggleItem:async e=>{let r=t().items.find(t=>t.id===e);if(!r)return;let n=!r.isPurchased,l=r.purchasedDate;n&&!r.purchasedDate&&(l=new Date().toISOString().split("T")[0]);let i={isPurchased:n};l!==r.purchasedDate&&(i.purchasedDate=l),await t().updateItem(e,i,!1)},selectItem:t=>{e({selectedItem:t})},openDetailPanel:()=>{e({isDetailPanelOpen:!0})},closeDetailPanel:()=>{e({isDetailPanelOpen:!1,selectedItem:null})},openAddForm:()=>{e({isAddFormOpen:!0})},closeAddForm:()=>{e({isAddFormOpen:!1}),t().resetPurchaseForm()},updatePurchaseForm:(t,r)=>{e(e=>({purchaseForm:{...e.purchaseForm,[t]:r}}))},resetPurchaseForm:()=>{e({purchaseForm:L})},reorderItems:(t,r)=>{e(e=>{let n=[...e.items],[l]=n.splice(t,1);return n.splice(r,0,l),{items:n}})},moveToCompleted:async e=>{if(!t().items.find(t=>t.id===e))return;let r=new Date().toISOString().split("T")[0];await t().updateItem(e,{isPurchased:!0,purchasedDate:r},!0)},moveToPlanned:async e=>{await t().updateItem(e,{isPurchased:!1,purchasedDate:void 0},!0)},clearError:()=>{e({error:null})}})),T=e=>e.toLocaleString(),A=e=>e.isPurchased?`구매 완료 (${e.purchasedDate?new Date(e.purchasedDate).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"날짜 없음"})`:`구매 예정 (${e.purchasedDate?new Date(e.purchasedDate).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"날짜 없음"})`,O=e=>{switch(e){case"가구":return"bg-amber-200 text-amber-800";case"가전":return"bg-teal-100 text-teal-700";case"소품":return"bg-pink-100 text-pink-700";case"정리":return"bg-purple-100 text-purple-700";case"식기":return"bg-blue-100 text-blue-700";case"렌트":return"bg-yellow-100 text-yellow-600";default:return"bg-gray-100 text-gray-700"}},I=({item:e})=>{let{toggleItem:t,deleteItem:r,selectItem:n,openDetailPanel:l,openAddForm:i,updatePurchaseForm:a}=R(),s=window.__dragProps?.[e.id],o=()=>{a("category",e.category),a("brand",e.brand||""),a("title",e.title),a("price",e.price.toString()),a("purchasedDate",e.purchasedDate?e.purchasedDate:""),a("isPurchased",e.isPurchased),a("option",e.option||""),a("memo",e.memo||""),a("url",e.url||""),n(e),i()},d=()=>{window.confirm("구매 항목을 삭제하시겠습니까?")&&r(e.id)},c=e.isPurchased;return(0,g.jsxs)("div",{className:`flex items-center gap-3 p-4 rounded-lg transition-all duration-300 group checklist-item ${c?"bg-green-50 hover:bg-green-100":"bg-gray-50 hover:bg-gray-100"}`,children:[(0,g.jsx)("button",{onClick:r=>{r.preventDefault(),r.stopPropagation(),r.nativeEvent.stopImmediatePropagation(),t(e.id)},onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},onPointerDown:e=>{e.stopPropagation()},className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-300 flex-shrink-0 z-20 ${c?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-green-400"}`,children:c&&(0,g.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,g.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,g.jsx)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{n(e),l()},style:{cursor:"pointer"},children:(0,g.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,g.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium transition-all duration-300 ${c?"bg-green-200 text-green-700":O(e.category)}`,children:e.category}),e.brand&&(0,g.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:e.brand})]}),(0,g.jsx)("div",{className:`text-lg font-medium truncate transition-all duration-300 py-1 ${c?"text-green-600":"text-gray-700"}`,children:e.title}),(0,g.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,g.jsxs)("span",{className:`text-sm font-semibold transition-all duration-300 ${c?"text-gray-500":"text-blue-600"}`,children:["₩",T(parseInt(e.price.replace(/,/g,"")))]}),(0,g.jsx)("span",{className:`text-xs transition-all duration-300 ${e.isPurchased?"text-gray-600":"text-yellow-600"}`,children:A(e)})]})]})})}),(0,g.jsxs)("div",{className:"flex items-center gap-1 transition-opacity duration-200",children:[(0,g.jsx)("button",{onClick:e=>{e.stopPropagation(),o()},className:"p-1.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-md transition-colors duration-200",title:"수정",children:(0,g.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,g.jsx)("button",{onClick:e=>{e.stopPropagation(),d()},className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors duration-200",title:"삭제",children:(0,g.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,g.jsx)("div",{...s?.attributes,...s?.listeners,className:"p-1.5 text-gray-300 cursor-grab active:cursor-grabbing",onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:(0,g.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})})]})]})},F=({onClick:e})=>(0,g.jsx)("button",{onClick:e,className:"p-2 text-blue-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all duration-200 group self-start",title:"새 항목 추가",children:(0,g.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),z=({isOpen:e,onClose:t,children:r,title:n})=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 z-[99999] ${e?"bg-opacity-50 pointer-events-auto":"bg-opacity-0 pointer-events-none"}`,onClick:t}),(0,g.jsxs)("div",{className:`fixed top-0 right-0 h-screen w-96 bg-white shadow-2xl z-[999999] flex flex-col mt-0 slide-panel ${e?"open":""}`,children:[(0,g.jsx)("div",{className:"flex-shrink-0 bg-white py-2 px-4",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[n&&(0,g.jsx)("h3",{className:"text-lg font-bold text-yellow-400",style:{fontWeight:700},children:n}),!n&&(0,g.jsx)("div",{}),(0,g.jsx)("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full transition-colors duration-200",children:(0,g.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,g.jsx)("div",{className:"flex-1 flex flex-col min-h-0",children:r})]})]}),B=({children:e,showActions:t=!1,onSave:r,onDelete:n,saveText:l="저장",deleteText:i="삭제",isSaveDisabled:a=!1})=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6",style:{marginTop:0,paddingTop:0},children:e}),t&&(0,g.jsxs)("div",{className:"flex-shrink-0 p-4 space-y-3",children:[r&&(0,g.jsxs)("button",{onClick:r,disabled:a,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-yellow-100 text-yellow-600 rounded-lg hover:bg-yellow-200 transition-colors duration-200 font-medium disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed",children:[(0,g.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l]}),n&&(0,g.jsxs)("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200",children:[(0,g.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),i]})]})]}),$=["가구","가전","소품","정리","식기","렌트","기타"];function _({url:e}){let[t,r]=(0,p.useState)(null),[n,l]=(0,p.useState)(!1),[i,a]=(0,p.useState)("");return e?n?(0,g.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:"미리보기 불러오는 중..."}):i?(0,g.jsx)("div",{className:"text-xs text-red-400 mt-2",children:i}):t?(0,g.jsxs)("div",{className:"flex items-center gap-3 mt-2 p-2 border rounded bg-white/80",children:[t.image?(0,g.jsx)("img",{src:t.image,alt:"썸네일",className:"w-16 h-16 object-cover rounded"}):null,(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,g.jsx)("div",{className:"font-semibold text-sm truncate",children:t.title}),t.description&&(0,g.jsx)("div",{className:"text-xs text-gray-500 truncate",children:t.description}),(0,g.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 underline break-all",children:t.url})]})]}):null:null}let W=()=>{let{isAddFormOpen:e,selectedItem:t,purchaseForm:r,closeAddForm:n,updatePurchaseForm:l,addItem:i,updateItem:a}=R(),s=!!t,o=e=>{let t=e.replace(/[^\d]/g,"");return""===t?"":parseInt(t).toLocaleString()},d=e=>{l("price",o(e))};return(0,g.jsx)(z,{isOpen:e,onClose:n,title:s?"구입 항목 수정":"구입 항목 추가",children:(0,g.jsx)(B,{showActions:!0,onSave:()=>{r.title.trim()&&r.price&&(s&&t?a(t.id,r,!0):i(r))},saveText:s?"수정하기":"추가하기",isSaveDisabled:!r.title.trim()||!r.price,children:(0,g.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r.title.trim()&&r.price&&(s&&t?a(t.id,r,!0):i(r))},children:[(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["카테고리 ",(0,g.jsx)("span",{className:"text-yellow-500 font-bold",children:"*"})]}),(0,g.jsx)("select",{value:r.category,onChange:e=>l("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,children:$.map(e=>(0,g.jsx)("option",{value:e,children:e},e))})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"브랜드"}),(0,g.jsx)("input",{type:"text",value:r.brand,onChange:e=>l("brand",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"브랜드명을 입력하세요"})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["제품명 ",(0,g.jsx)("span",{className:"text-yellow-500 font-bold",children:"*"})]}),(0,g.jsx)("input",{type:"text",value:r.title,onChange:e=>l("title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"제품명을 입력하세요",required:!0})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["가격 ",(0,g.jsx)("span",{className:"text-yellow-500 font-bold",children:"*"})]}),(0,g.jsx)("input",{type:"text",value:r.price,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"1,000",required:!0})]}),(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r.isPurchased?"구매일":"구매 예정일"}),(0,g.jsx)("input",{type:"date",value:r.purchasedDate,onChange:e=>l("purchasedDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("input",{type:"checkbox",id:"isPurchased",checked:r.isPurchased,onChange:e=>l("isPurchased",e.target.checked),className:"w-4 h-4 text-yellow-500 border-gray-300 rounded focus:ring-yellow-500"}),(0,g.jsx)("label",{htmlFor:"isPurchased",className:"ml-2 text-sm text-gray-700 cursor-pointer",children:"이미 구매했어요"})]})]})}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"옵션"}),(0,g.jsx)("input",{type:"text",value:r.option,onChange:e=>l("option",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"색상, 사이즈 등 옵션을 입력하세요"})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비고"}),(0,g.jsx)("textarea",{value:r.memo,onChange:e=>l("memo",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent resize-none",placeholder:"추가 메모를 입력하세요"})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL"}),(0,g.jsx)("input",{type:"url",value:r.url,onChange:e=>l("url",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"https://example.com"}),r.url&&(0,g.jsx)(_,{url:r.url})]})]})})})};function K({url:e}){let[t,r]=(0,p.useState)(null),[n,l]=(0,p.useState)(!1),[i,a]=(0,p.useState)("");return e?n?(0,g.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:"미리보기 불러오는 중..."}):i?(0,g.jsx)("div",{className:"text-xs text-red-400 mt-2",children:i}):t?(0,g.jsxs)("div",{className:"flex items-center gap-3 mt-2 p-2 border rounded bg-white/80",children:[t.image?(0,g.jsx)("img",{src:t.image,alt:"썸네일",className:"w-16 h-16 object-cover rounded"}):null,(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,g.jsx)("div",{className:"font-semibold text-sm truncate",children:t.title}),t.description&&(0,g.jsx)("div",{className:"text-xs text-gray-500 truncate",children:t.description}),(0,g.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 underline break-all",children:t.url})]})]}):null:null}let U=()=>{let{selectedItem:e,isDetailPanelOpen:t,closeDetailPanel:r,deleteItem:n}=R();return(0,g.jsx)(z,{isOpen:t,onClose:r,children:e&&(0,g.jsx)(B,{showActions:!0,onDelete:()=>n(e.id),saveText:"수정",deleteText:"삭제",children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리"}),(0,g.jsx)("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${e.isPurchased?"bg-green-100 text-green-700":(e=>{switch(e){case"가구":return"bg-amber-200 text-amber-800";case"가전":return"bg-teal-100 text-teal-700";case"소품":return"bg-pink-100 text-pink-700";case"정리":return"bg-purple-100 text-purple-700";case"식기":return"bg-blue-100 text-blue-700";case"렌트":return"bg-yellow-100 text-yellow-600";default:return"bg-gray-100 text-gray-700"}})(e.category)}`,children:e.category})]}),e.brand&&(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"브랜드"}),(0,g.jsx)("div",{className:"text-gray-800 font-medium",children:e.brand})]}),(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"제목"}),(0,g.jsx)("div",{className:"text-lg font-semibold text-gray-800 break-words",children:e.title})]}),(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"가격"}),(0,g.jsxs)("div",{className:"text-xl font-bold text-green-600",children:["₩",(e=>("string"==typeof e?parseInt(e.replace(/,/g,"")):e).toLocaleString())(e.price)]})]}),(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"구매 상태"}),(0,g.jsx)("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${e.isPurchased?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:e?e.isPurchased?e.purchasedDate?`구매완료 (${new Date(e.purchasedDate).toLocaleDateString("ko-KR")})`:"구매완료":e.purchasedDate?`구매예정 (${new Date(e.purchasedDate).toLocaleDateString("ko-KR")})`:"구매예정":""})]}),e.option&&(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"옵션"}),(0,g.jsx)("div",{className:"text-gray-800",children:e.option})]}),e.memo&&(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비고"}),(0,g.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 max-h-48 overflow-y-auto",children:(0,g.jsx)("div",{className:"text-gray-800 whitespace-pre-wrap break-words",children:e.memo})})]}),e.url&&(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL"}),(0,g.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,g.jsx)("div",{className:"text-sm text-blue-600 break-all",children:(0,g.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:e.url})}),(0,g.jsx)(K,{url:e.url})]})]}),(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"생성일"}),(0,g.jsx)("div",{className:"text-sm text-gray-600",children:e.createdAt.toLocaleDateString("ko-KR")})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"수정일"}),(0,g.jsx)("div",{className:"text-sm text-gray-600",children:e.updatedAt.toLocaleDateString("ko-KR")})]})]})})]})})})};var H=r(1215);let q="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function X(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function V(e){return"nodeType"in e}function Y(e){var t,r;return e?X(e)?e:V(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function J(e){let{Document:t}=Y(e);return e instanceof t}function G(e){return!X(e)&&e instanceof Y(e).HTMLElement}function Q(e){return e instanceof Y(e).SVGElement}function Z(e){return e?X(e)?e.document:V(e)?J(e)?e:G(e)||Q(e)?e.ownerDocument:document:document:document}let ee=q?p.useLayoutEffect:p.useEffect;function et(e){let t=(0,p.useRef)(e);return ee(()=>{t.current=e}),(0,p.useCallback)(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}function er(e,t){void 0===t&&(t=[e]);let r=(0,p.useRef)(e);return ee(()=>{r.current!==e&&(r.current=e)},t),r}function en(e,t){let r=(0,p.useRef)();return(0,p.useMemo)(()=>{let t=e(r.current);return r.current=t,t},[...t])}function el(e){let t=et(e),r=(0,p.useRef)(null),n=(0,p.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,n]}function ei(e){let t=(0,p.useRef)();return(0,p.useEffect)(()=>{t.current=e},[e]),t.current}let ea={};function es(e,t){return(0,p.useMemo)(()=>{if(t)return t;let r=null==ea[e]?0:ea[e]+1;return ea[e]=r,e+"-"+r},[e,t])}function eo(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),l=1;l<r;l++)n[l-1]=arguments[l];return n.reduce((t,r)=>{for(let[n,l]of Object.entries(r)){let r=t[n];null!=r&&(t[n]=r+e*l)}return t},{...t})}}let ed=eo(1),ec=eo(-1);function eu(e){if(!e)return!1;let{KeyboardEvent:t}=Y(e.target);return t&&e instanceof t}function eh(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=Y(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let em=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[em.Translate.toString(e),em.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),eg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",ep={display:"none"};function ef(e){let{id:t,value:r}=e;return f().createElement("div",{id:t,style:ep},r)}function ex(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;return f().createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}let eb=(0,p.createContext)(null),ev={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},ey={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ew(e){let{announcements:t=ey,container:r,hiddenTextDescribedById:n,screenReaderInstructions:l=ev}=e,{announce:i,announcement:a}=function(){let[e,t]=(0,p.useState)("");return{announce:(0,p.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),s=es("DndLiveRegion"),[o,d]=(0,p.useState)(!1);(0,p.useEffect)(()=>{d(!0)},[]);var c=(0,p.useMemo)(()=>({onDragStart(e){let{active:r}=e;i(t.onDragStart({active:r}))},onDragMove(e){let{active:r,over:n}=e;t.onDragMove&&i(t.onDragMove({active:r,over:n}))},onDragOver(e){let{active:r,over:n}=e;i(t.onDragOver({active:r,over:n}))},onDragEnd(e){let{active:r,over:n}=e;i(t.onDragEnd({active:r,over:n}))},onDragCancel(e){let{active:r,over:n}=e;i(t.onDragCancel({active:r,over:n}))}}),[i,t]);let u=(0,p.useContext)(eb);if((0,p.useEffect)(()=>{if(!u)throw Error("useDndMonitor must be used within a children of <DndContext>");return u(c)},[c,u]),!o)return null;let h=f().createElement(f().Fragment,null,f().createElement(ef,{id:n,value:l.draggable}),f().createElement(ex,{id:s,announcement:a}));return r?(0,H.createPortal)(h,r):h}function ej(){}function eN(e,t){return(0,p.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(l||(l={}));let ek=Object.freeze({x:0,y:0});function eD(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function eC(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function eE(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function eP(e){let{left:t,top:r,height:n,width:l}=e;return[{x:t,y:r},{x:t+l,y:r},{x:t,y:r+n},{x:t+l,y:r+n}]}function eS(e,t){if(!e||0===e.length)return null;let[r]=e;return t?r[t]:r}function eM(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}let eL=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,l=eM(t,t.left,t.top),i=[];for(let e of n){let{id:t}=e,n=r.get(t);if(n){let r=eD(eM(n),l);i.push({id:t,data:{droppableContainer:e,value:r}})}}return i.sort(eC)},eR=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,l=eP(t),i=[];for(let e of n){let{id:t}=e,n=r.get(t);if(n){let r=eP(n),a=Number((l.reduce((e,t,n)=>e+eD(r[n],t),0)/4).toFixed(4));i.push({id:t,data:{droppableContainer:e,value:a}})}}return i.sort(eC)},eT=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,l=[];for(let e of n){let{id:n}=e,i=r.get(n);if(i){let r=function(e,t){let r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height);if(n<l&&r<i){let a=t.width*t.height,s=e.width*e.height,o=(l-n)*(i-r);return Number((o/(a+s-o)).toFixed(4))}return 0}(i,t);r>0&&l.push({id:n,data:{droppableContainer:e,value:r}})}}return l.sort(eE)};function eA(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ek}let eO=function(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),l=1;l<r;l++)n[l-1]=arguments[l];return n.reduce((t,r)=>({...t,top:t.top+e*r.y,bottom:t.bottom+e*r.y,left:t.left+e*r.x,right:t.right+e*r.x}),{...t})}}(1),eI={ignoreTransform:!1};function eF(e,t){void 0===t&&(t=eI);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:n}=Y(e).getComputedStyle(e);t&&(r=function(e,t,r){let n=function(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!n)return e;let{scaleX:l,scaleY:i,x:a,y:s}=n,o=e.left-a-(1-l)*parseFloat(r),d=e.top-s-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),c=l?e.width/l:e.width,u=i?e.height/i:e.height;return{width:c,height:u,top:d,right:o+c,bottom:d+u,left:o}}(r,t,n))}let{top:n,left:l,width:i,height:a,bottom:s,right:o}=r;return{top:n,left:l,width:i,height:a,bottom:s,right:o}}function ez(e){return eF(e,{ignoreTransform:!0})}function eB(e,t){let r=[];return e?function n(l){var i;if(null!=t&&r.length>=t||!l)return r;if(J(l)&&null!=l.scrollingElement&&!r.includes(l.scrollingElement))return r.push(l.scrollingElement),r;if(!G(l)||Q(l)||r.includes(l))return r;let a=Y(e).getComputedStyle(l);return(l!==e&&function(e,t){void 0===t&&(t=Y(e).getComputedStyle(e));let r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{let n=t[e];return"string"==typeof n&&r.test(n)})}(l,a)&&r.push(l),void 0===(i=a)&&(i=Y(l).getComputedStyle(l)),"fixed"===i.position)?r:n(l.parentNode)}(e):r}function e$(e){let[t]=eB(e,1);return null!=t?t:null}function e_(e){return q&&e?X(e)?e:V(e)?J(e)||e===Z(e).scrollingElement?window:G(e)?e:null:null:null}function eW(e){return X(e)?e.scrollX:e.scrollLeft}function eK(e){return X(e)?e.scrollY:e.scrollTop}function eU(e){return{x:eW(e),y:eK(e)}}function eH(e){return!!q&&!!e&&e===document.scrollingElement}function eq(e){let t={x:0,y:0},r=eH(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},l=e.scrollTop<=t.y,i=e.scrollLeft<=t.x;return{isTop:l,isLeft:i,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(i||(i={}));let eX={x:.2,y:.2};function eV(e){return e.reduce((e,t)=>ed(e,eU(t)),ek)}let eY=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+eW(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+eK(t),0)}]];class eJ{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=eB(t),n=eV(r);for(let[t,l,i]of(this.rect={...e},this.width=e.width,this.height=e.height,eY))for(let e of l)Object.defineProperty(this,e,{get:()=>{let l=i(r),a=n[t]-l;return this.rect[e]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class eG{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var n;null==(n=this.target)||n.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function eQ(e,t){let r=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t&&n>t.y}function eZ(e){e.preventDefault()}function e0(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(a||(a={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(s||(s={}));let e1={start:[s.Space,s.Enter],cancel:[s.Esc],end:[s.Space,s.Enter,s.Tab]},e2=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case s.Right:return{...r,x:r.x+25};case s.Left:return{...r,x:r.x-25};case s.Down:return{...r,y:r.y+25};case s.Up:return{...r,y:r.y-25}}};class e4{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new eG(Z(t)),this.windowListeners=new eG(Y(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(a.Resize,this.handleCancel),this.windowListeners.add(a.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(a.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&function(e,t){if(void 0===t&&(t=eF),!e)return;let{top:r,left:n,bottom:l,right:i}=t(e);e$(e)&&(l<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(r),t(ek)}handleKeyDown(e){if(eu(e)){let{active:t,context:r,options:n}=this.props,{keyboardCodes:l=e1,coordinateGetter:i=e2,scrollBehavior:a="smooth"}=n,{code:o}=e;if(l.end.includes(o))return void this.handleEnd(e);if(l.cancel.includes(o))return void this.handleCancel(e);let{collisionRect:d}=r.current,c=d?{x:d.left,y:d.top}:ek;this.referenceCoordinates||(this.referenceCoordinates=c);let u=i(e,{active:t,context:r.current,currentCoordinates:c});if(u){let t=ec(u,c),n={x:0,y:0},{scrollableAncestors:l}=r.current;for(let r of l){let l=e.code,{isTop:i,isRight:o,isLeft:d,isBottom:c,maxScroll:h,minScroll:m}=eq(r),g=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:r,right:n,bottom:l}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:l,width:e.clientWidth,height:e.clientHeight}}(r),p={x:Math.min(l===s.Right?g.right-g.width/2:g.right,Math.max(l===s.Right?g.left:g.left+g.width/2,u.x)),y:Math.min(l===s.Down?g.bottom-g.height/2:g.bottom,Math.max(l===s.Down?g.top:g.top+g.height/2,u.y))},f=l===s.Right&&!o||l===s.Left&&!d,x=l===s.Down&&!c||l===s.Up&&!i;if(f&&p.x!==u.x){let e=r.scrollLeft+t.x,i=l===s.Right&&e<=h.x||l===s.Left&&e>=m.x;if(i&&!t.y)return void r.scrollTo({left:e,behavior:a});i?n.x=r.scrollLeft-e:n.x=l===s.Right?r.scrollLeft-h.x:r.scrollLeft-m.x,n.x&&r.scrollBy({left:-n.x,behavior:a});break}if(x&&p.y!==u.y){let e=r.scrollTop+t.y,i=l===s.Down&&e<=h.y||l===s.Up&&e>=m.y;if(i&&!t.x)return void r.scrollTo({top:e,behavior:a});i?n.y=r.scrollTop-e:n.y=l===s.Down?r.scrollTop-h.y:r.scrollTop-m.y,n.y&&r.scrollBy({top:-n.y,behavior:a});break}}this.handleMove(e,ed(ec(u,this.referenceCoordinates),n))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function e3(e){return!!(e&&"distance"in e)}function e5(e){return!!(e&&"delay"in e)}e4.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=e1,onActivation:l}=t,{active:i}=r,{code:a}=e.nativeEvent;if(n.start.includes(a)){let t=i.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==l||l({event:e.nativeEvent}),!0)}return!1}}];class e6{constructor(e,t,r){var n;void 0===r&&(r=function(e){let{EventTarget:t}=Y(e);return e instanceof t?e:Z(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:l}=e,{target:i}=l;this.props=e,this.events=t,this.document=Z(i),this.documentListeners=new eG(this.document),this.listeners=new eG(r),this.windowListeners=new eG(Y(i)),this.initialCoordinates=null!=(n=eh(l))?n:ek,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(a.Resize,this.handleCancel),this.windowListeners.add(a.DragStart,eZ),this.windowListeners.add(a.VisibilityChange,this.handleCancel),this.windowListeners.add(a.ContextMenu,eZ),this.documentListeners.add(a.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(e5(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(e3(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:r,onPending:n}=this.props;n(r,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(a.Click,e0,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(a.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:r,initialCoordinates:n,props:l}=this,{onMove:i,options:{activationConstraint:a}}=l;if(!n)return;let s=null!=(t=eh(e))?t:ek,o=ec(n,s);if(!r&&a){if(e3(a)){if(null!=a.tolerance&&eQ(o,a.tolerance))return this.handleCancel();if(eQ(o,a.distance))return this.handleStart()}return e5(a)&&eQ(o,a.tolerance)?this.handleCancel():void this.handlePending(a,o)}e.cancelable&&e.preventDefault(),i(s)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===s.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let e7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class e8 extends e6{constructor(e){let{event:t}=e;super(e,e7,Z(t.target))}}e8.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!!r.isPrimary&&0===r.button&&(null==n||n({event:r}),!0)}}];let e9={move:{name:"mousemove"},end:{name:"mouseup"}};!function(e){e[e.RightClick=2]="RightClick"}(o||(o={}));class te extends e6{constructor(e){super(e,e9,Z(e.event.target))}}te.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button!==o.RightClick&&(null==n||n({event:r}),!0)}}];let tt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class tr extends e6{constructor(e){super(e,tt)}static setup(){return window.addEventListener(tt.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(tt.move.name,e)};function e(){}}}tr.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t,{touches:l}=r;return!(l.length>1)&&(null==n||n({event:r}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(d||(d={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(c||(c={}));let tn={x:{[i.Backward]:!1,[i.Forward]:!1},y:{[i.Backward]:!1,[i.Forward]:!1}};!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(u||(u={})),(h||(h={})).Optimized="optimized";let tl=new Map;function ti(e,t){return en(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function ta(e){let{callback:t,disabled:r}=e,n=et(t),l=(0,p.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(n)},[r]);return(0,p.useEffect)(()=>()=>null==l?void 0:l.disconnect(),[l]),l}function ts(e){return new eJ(eF(e),e)}function to(e,t,r){void 0===t&&(t=ts);let[n,l]=(0,p.useState)(null);function i(){l(n=>{if(!e)return null;if(!1===e.isConnected){var l;return null!=(l=null!=n?n:r)?l:null}let i=t(e);return JSON.stringify(n)===JSON.stringify(i)?n:i})}let a=function(e){let{callback:t,disabled:r}=e,n=et(t),l=(0,p.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(n)},[n,r]);return(0,p.useEffect)(()=>()=>null==l?void 0:l.disconnect(),[l]),l}({callback(t){if(e)for(let r of t){let{type:t,target:n}=r;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){i();break}}}}),s=ta({callback:i});return ee(()=>{i(),e?(null==s||s.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==s||s.disconnect(),null==a||a.disconnect())},[e]),n}let td=[];function tc(e,t){void 0===t&&(t=[]);let r=(0,p.useRef)(null);return(0,p.useEffect)(()=>{r.current=null},t),(0,p.useEffect)(()=>{let t=e!==ek;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?ec(e,r.current):ek}function tu(e){return(0,p.useMemo)(()=>e?function(e){let t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}(e):null,[e])}let th=[],tm=[{sensor:e8,options:{}},{sensor:e4,options:{}}],tg={current:{}},tp={draggable:{measure:ez},droppable:{measure:ez,strategy:u.WhileDragging,frequency:h.Optimized},dragOverlay:{measure:eF}};class tf extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}let tx={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new tf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ej},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:tp,measureDroppableContainers:ej,windowRect:null,measuringScheduled:!1},tb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ej,draggableNodes:new Map,over:null,measureDroppableContainers:ej},tv=(0,p.createContext)(tb),ty=(0,p.createContext)(tx);function tw(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new tf}}}function tj(e,t){switch(t.type){case l.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case l.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case l.DragEnd:case l.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case l.RegisterDroppable:{let{element:r}=t,{id:n}=r,l=new tf(e.droppable.containers);return l.set(n,r),{...e,droppable:{...e.droppable,containers:l}}}case l.SetDroppableDisabled:{let{id:r,key:n,disabled:l}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;let a=new tf(e.droppable.containers);return a.set(r,{...i,disabled:l}),{...e,droppable:{...e.droppable,containers:a}}}case l.UnregisterDroppable:{let{id:r,key:n}=t,l=e.droppable.containers.get(r);if(!l||n!==l.key)return e;let i=new tf(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function tN(e){let{disabled:t}=e,{active:r,activatorEvent:n,draggableNodes:l}=(0,p.useContext)(tv),i=ei(n),a=ei(null==r?void 0:r.id);return(0,p.useEffect)(()=>{if(!t&&!n&&i&&null!=a){if(!eu(i)||document.activeElement===i.target)return;let e=l.get(a);if(!e)return;let{activatorNode:t,node:r}=e;(t.current||r.current)&&requestAnimationFrame(()=>{for(let e of[t.current,r.current]){if(!e)continue;let t=e.matches(eg)?e:e.querySelector(eg);if(t){t.focus();break}}})}},[n,t,l,a,i]),null}let tk=(0,p.createContext)({...ek,scaleX:1,scaleY:1});!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(m||(m={}));let tD=(0,p.memo)(function(e){var t,r,n,a,s,o;let{id:h,accessibility:g,autoScroll:x=!0,children:b,sensors:v=tm,collisionDetection:y=eT,measuring:w,modifiers:j,...N}=e,[k,D]=(0,p.useReducer)(tj,void 0,tw),[C,E]=function(){let[e]=(0,p.useState)(()=>new Set),t=(0,p.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,p.useCallback)(t=>{let{type:r,event:n}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,n)})},[e]),t]}(),[P,S]=(0,p.useState)(m.Uninitialized),M=P===m.Initialized,{draggable:{active:L,nodes:R,translate:T},droppable:{containers:A}}=k,O=null!=L?R.get(L):null,I=(0,p.useRef)({initial:null,translated:null}),F=(0,p.useMemo)(()=>{var e;return null!=L?{id:L,data:null!=(e=null==O?void 0:O.data)?e:tg,rect:I}:null},[L,O]),z=(0,p.useRef)(null),[B,$]=(0,p.useState)(null),[_,W]=(0,p.useState)(null),K=er(N,Object.values(N)),U=es("DndDescribedBy",h),X=(0,p.useMemo)(()=>A.getEnabled(),[A]),V=(0,p.useMemo)(()=>({draggable:{...tp.draggable,...null==w?void 0:w.draggable},droppable:{...tp.droppable,...null==w?void 0:w.droppable},dragOverlay:{...tp.dragOverlay,...null==w?void 0:w.dragOverlay}}),[null==w?void 0:w.draggable,null==w?void 0:w.droppable,null==w?void 0:w.dragOverlay]),{droppableRects:J,measureDroppableContainers:Q,measuringScheduled:Z}=function(e,t){let{dragging:r,dependencies:n,config:l}=t,[i,a]=(0,p.useState)(null),{frequency:s,measure:o,strategy:d}=l,c=(0,p.useRef)(e),h=function(){switch(d){case u.Always:return!1;case u.BeforeDragging:return r;default:return!r}}(),m=er(h),g=(0,p.useCallback)(function(e){void 0===e&&(e=[]),m.current||a(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[m]),f=(0,p.useRef)(null),x=en(t=>{if(h&&!r)return tl;if(!t||t===tl||c.current!==e||null!=i){let t=new Map;for(let r of e){if(!r)continue;if(i&&i.length>0&&!i.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}let e=r.node.current,n=e?new eJ(o(e),e):null;r.rect.current=n,n&&t.set(r.id,n)}return t}return t},[e,i,r,h,o]);return(0,p.useEffect)(()=>{c.current=e},[e]),(0,p.useEffect)(()=>{h||g()},[r,h]),(0,p.useEffect)(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),(0,p.useEffect)(()=>{h||"number"!=typeof s||null!==f.current||(f.current=setTimeout(()=>{g(),f.current=null},s))},[s,h,g,...n]),{droppableRects:x,measureDroppableContainers:g,measuringScheduled:null!=i}}(X,{dragging:M,dependencies:[T.x,T.y],config:V.droppable}),et=function(e,t){let r=null!=t?e.get(t):void 0,n=r?r.node.current:null;return en(e=>{var r;return null==t?null:null!=(r=null!=n?n:e)?r:null},[n,t])}(R,L),ea=(0,p.useMemo)(()=>_?eh(_):null,[_]),eo=function(){let e=(null==B?void 0:B.autoScrollEnabled)===!1,t="object"==typeof x?!1===x.enabled:!1===x,r=M&&!e&&!t;return"object"==typeof x?{...x,enabled:r}:{enabled:r}}(),ec=ti(et,V.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:n,config:l=!0}=e,i=(0,p.useRef)(!1),{x:a,y:s}="boolean"==typeof l?{x:l,y:l}:l;ee(()=>{if(!a&&!s||!t){i.current=!1;return}if(i.current||!n)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let l=eA(r(e),n);if(a||(l.x=0),s||(l.y=0),i.current=!0,Math.abs(l.x)>0||Math.abs(l.y)>0){let t=e$(e);t&&t.scrollBy({top:l.y,left:l.x})}},[t,a,s,n,r])}({activeNode:null!=L?R.get(L):null,config:eo.layoutShiftCompensation,initialRect:ec,measure:V.draggable.measure});let eu=to(et,V.draggable.measure,ec),em=to(et?et.parentElement:null),eg=(0,p.useRef)({activatorEvent:null,active:null,activeNode:et,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ep=A.getNodeFor(null==(t=eg.current.over)?void 0:t.id),ef=function(e){let{measure:t}=e,[r,n]=(0,p.useState)(null),l=ta({callback:(0,p.useCallback)(e=>{for(let{target:r}of e)if(G(r)){n(e=>{let n=t(r);return e?{...e,width:n.width,height:n.height}:n});break}},[t])}),[i,a]=el((0,p.useCallback)(e=>{let r=function(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return G(t)?t:e}(e);null==l||l.disconnect(),r&&(null==l||l.observe(r)),n(r?t(r):null)},[t,l]));return(0,p.useMemo)(()=>({nodeRef:i,rect:r,setRef:a}),[r,i,a])}({measure:V.dragOverlay.measure}),ex=null!=(r=ef.nodeRef.current)?r:et,ev=M?null!=(n=ef.rect)?n:eu:null,ey=!!(ef.nodeRef.current&&ef.rect),ej=function(e){let t=ti(e);return eA(e,t)}(ey?null:eu),eN=tu(ex?Y(ex):null),eD=function(e){let t=(0,p.useRef)(e),r=en(r=>e?r&&r!==td&&e&&t.current&&e.parentNode===t.current.parentNode?r:eB(e):td,[e]);return(0,p.useEffect)(()=>{t.current=e},[e]),r}(M?null!=ep?ep:et:null),eC=function(e,t){void 0===t&&(t=eF);let[r]=e,n=tu(r?Y(r):null),[l,i]=(0,p.useState)(th);function a(){i(()=>e.length?e.map(e=>eH(e)?n:new eJ(t(e),e)):th)}let s=ta({callback:a});return ee(()=>{null==s||s.disconnect(),a(),e.forEach(e=>null==s?void 0:s.observe(e))},[e]),l}(eD),eE=function(e,t){let{transform:r,...n}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...n}),r):r}(j,{transform:{x:T.x-ej.x,y:T.y-ej.y,scaleX:1,scaleY:1},activatorEvent:_,active:F,activeNodeRect:eu,containerNodeRect:em,draggingNodeRect:ev,over:eg.current.over,overlayNodeRect:ef.rect,scrollableAncestors:eD,scrollableAncestorRects:eC,windowRect:eN}),eP=ea?ed(ea,T):null,eM=function(e){let[t,r]=(0,p.useState)(null),n=(0,p.useRef)(e),l=(0,p.useCallback)(e=>{let t=e_(e.target);t&&r(e=>e?(e.set(t,eU(t)),new Map(e)):null)},[]);return(0,p.useEffect)(()=>{let t=n.current;if(e!==t){i(t);let a=e.map(e=>{let t=e_(e);return t?(t.addEventListener("scroll",l,{passive:!0}),[t,eU(t)]):null}).filter(e=>null!=e);r(a.length?new Map(a):null),n.current=e}return()=>{i(e),i(t)};function i(e){e.forEach(e=>{let t=e_(e);null==t||t.removeEventListener("scroll",l)})}},[l,e]),(0,p.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>ed(e,t),ek):eV(e):ek,[e,t])}(eD),eL=tc(eM),eR=tc(eM,[eu]),eI=ed(eE,eL),ez=ev?eO(ev,eE):null,eW=F&&ez?y({active:F,collisionRect:ez,droppableRects:J,droppableContainers:X,pointerCoordinates:eP}):null,eK=eS(eW,"id"),[eY,eG]=(0,p.useState)(null),eQ=(s=ey?eE:ed(eE,eR),o=null!=(a=null==eY?void 0:eY.rect)?a:null,{...s,scaleX:o&&eu?o.width/eu.width:1,scaleY:o&&eu?o.height/eu.height:1}),eZ=(0,p.useRef)(null),e0=(0,p.useCallback)((e,t)=>{let{sensor:r,options:n}=t;if(null==z.current)return;let i=R.get(z.current);if(!i)return;let a=e.nativeEvent,s=new r({active:z.current,activeNode:i,event:a,options:n,context:eg,onAbort(e){if(!R.get(e))return;let{onDragAbort:t}=K.current,r={id:e};null==t||t(r),C({type:"onDragAbort",event:r})},onPending(e,t,r,n){if(!R.get(e))return;let{onDragPending:l}=K.current,i={id:e,constraint:t,initialCoordinates:r,offset:n};null==l||l(i),C({type:"onDragPending",event:i})},onStart(e){let t=z.current;if(null==t)return;let r=R.get(t);if(!r)return;let{onDragStart:n}=K.current,i={activatorEvent:a,active:{id:t,data:r.data,rect:I}};(0,H.unstable_batchedUpdates)(()=>{null==n||n(i),S(m.Initializing),D({type:l.DragStart,initialCoordinates:e,active:t}),C({type:"onDragStart",event:i}),$(eZ.current),W(a)})},onMove(e){D({type:l.DragMove,coordinates:e})},onEnd:o(l.DragEnd),onCancel:o(l.DragCancel)});function o(e){return async function(){let{active:t,collisions:r,over:n,scrollAdjustedTranslate:i}=eg.current,s=null;if(t&&i){let{cancelDrop:o}=K.current;s={activatorEvent:a,active:t,collisions:r,delta:i,over:n},e===l.DragEnd&&"function"==typeof o&&await Promise.resolve(o(s))&&(e=l.DragCancel)}z.current=null,(0,H.unstable_batchedUpdates)(()=>{D({type:e}),S(m.Uninitialized),eG(null),$(null),W(null),eZ.current=null;let t=e===l.DragEnd?"onDragEnd":"onDragCancel";if(s){let e=K.current[t];null==e||e(s),C({type:t,event:s})}})}}eZ.current=s},[R]),e1=(0,p.useCallback)((e,t)=>(r,n)=>{let l=r.nativeEvent,i=R.get(n);null!==z.current||!i||l.dndKit||l.defaultPrevented||!0===e(r,t.options,{active:i})&&(l.dndKit={capturedBy:t.sensor},z.current=n,e0(r,t))},[R,e0]),e2=(0,p.useMemo)(()=>v.reduce((e,t)=>{let{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:e1(e.handler,t)}))]},[]),[v,e1]);(0,p.useEffect)(()=>{if(!q)return;let e=v.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},v.map(e=>{let{sensor:t}=e;return t})),ee(()=>{eu&&P===m.Initializing&&S(m.Initialized)},[eu,P]),(0,p.useEffect)(()=>{let{onDragMove:e}=K.current,{active:t,activatorEvent:r,collisions:n,over:l}=eg.current;if(!t||!r)return;let i={active:t,activatorEvent:r,collisions:n,delta:{x:eI.x,y:eI.y},over:l};(0,H.unstable_batchedUpdates)(()=>{null==e||e(i),C({type:"onDragMove",event:i})})},[eI.x,eI.y]),(0,p.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:r,droppableContainers:n,scrollAdjustedTranslate:l}=eg.current;if(!e||null==z.current||!t||!l)return;let{onDragOver:i}=K.current,a=n.get(eK),s=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,o={active:e,activatorEvent:t,collisions:r,delta:{x:l.x,y:l.y},over:s};(0,H.unstable_batchedUpdates)(()=>{eG(s),null==i||i(o),C({type:"onDragOver",event:o})})},[eK]),ee(()=>{eg.current={activatorEvent:_,active:F,activeNode:et,collisionRect:ez,collisions:eW,droppableRects:J,draggableNodes:R,draggingNode:ex,draggingNodeRect:ev,droppableContainers:A,over:eY,scrollableAncestors:eD,scrollAdjustedTranslate:eI},I.current={initial:ev,translated:ez}},[F,et,eW,ez,R,ex,ev,J,A,eY,eD,eI]),function(e){let{acceleration:t,activator:r=d.Pointer,canScroll:n,draggingRect:l,enabled:a,interval:s=5,order:o=c.TreeOrder,pointerCoordinates:u,scrollableAncestors:h,scrollableAncestorRects:m,delta:g,threshold:f}=e,x=function(e){let{delta:t,disabled:r}=e,n=ei(t);return en(e=>{if(r||!n||!e)return tn;let l={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[i.Backward]:e.x[i.Backward]||-1===l.x,[i.Forward]:e.x[i.Forward]||1===l.x},y:{[i.Backward]:e.y[i.Backward]||-1===l.y,[i.Forward]:e.y[i.Forward]||1===l.y}}},[r,t,n])}({delta:g,disabled:!a}),[b,v]=function(){let e=(0,p.useRef)(null);return[(0,p.useCallback)((t,r)=>{e.current=setInterval(t,r)},[]),(0,p.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),y=(0,p.useRef)({x:0,y:0}),w=(0,p.useRef)({x:0,y:0}),j=(0,p.useMemo)(()=>{switch(r){case d.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case d.DraggableRect:return l}},[r,l,u]),N=(0,p.useRef)(null),k=(0,p.useCallback)(()=>{let e=N.current;if(!e)return;let t=y.current.x*w.current.x,r=y.current.y*w.current.y;e.scrollBy(t,r)},[]),D=(0,p.useMemo)(()=>o===c.TreeOrder?[...h].reverse():h,[o,h]);(0,p.useEffect)(()=>{if(!a||!h.length||!j)return void v();for(let e of D){if((null==n?void 0:n(e))===!1)continue;let r=m[h.indexOf(e)];if(!r)continue;let{direction:l,speed:a}=function(e,t,r,n,l){let{top:a,left:s,right:o,bottom:d}=r;void 0===n&&(n=10),void 0===l&&(l=eX);let{isTop:c,isBottom:u,isLeft:h,isRight:m}=eq(e),g={x:0,y:0},p={x:0,y:0},f={height:t.height*l.y,width:t.width*l.x};return!c&&a<=t.top+f.height?(g.y=i.Backward,p.y=n*Math.abs((t.top+f.height-a)/f.height)):!u&&d>=t.bottom-f.height&&(g.y=i.Forward,p.y=n*Math.abs((t.bottom-f.height-d)/f.height)),!m&&o>=t.right-f.width?(g.x=i.Forward,p.x=n*Math.abs((t.right-f.width-o)/f.width)):!h&&s<=t.left+f.width&&(g.x=i.Backward,p.x=n*Math.abs((t.left+f.width-s)/f.width)),{direction:g,speed:p}}(e,r,j,t,f);for(let e of["x","y"])x[e][l[e]]||(a[e]=0,l[e]=0);if(a.x>0||a.y>0){v(),N.current=e,b(k,s),y.current=a,w.current=l;return}}y.current={x:0,y:0},w.current={x:0,y:0},v()},[t,k,n,v,a,s,JSON.stringify(j),JSON.stringify(x),b,h,D,m,JSON.stringify(f)])}({...eo,delta:T,draggingRect:ez,pointerCoordinates:eP,scrollableAncestors:eD,scrollableAncestorRects:eC});let e4=(0,p.useMemo)(()=>({active:F,activeNode:et,activeNodeRect:eu,activatorEvent:_,collisions:eW,containerNodeRect:em,dragOverlay:ef,draggableNodes:R,droppableContainers:A,droppableRects:J,over:eY,measureDroppableContainers:Q,scrollableAncestors:eD,scrollableAncestorRects:eC,measuringConfiguration:V,measuringScheduled:Z,windowRect:eN}),[F,et,eu,_,eW,em,ef,R,A,J,eY,Q,eD,eC,V,Z,eN]),e3=(0,p.useMemo)(()=>({activatorEvent:_,activators:e2,active:F,activeNodeRect:eu,ariaDescribedById:{draggable:U},dispatch:D,draggableNodes:R,over:eY,measureDroppableContainers:Q}),[_,e2,F,eu,D,U,R,eY,Q]);return f().createElement(eb.Provider,{value:E},f().createElement(tv.Provider,{value:e3},f().createElement(ty.Provider,{value:e4},f().createElement(tk.Provider,{value:eQ},b)),f().createElement(tN,{disabled:(null==g?void 0:g.restoreFocus)===!1})),f().createElement(ew,{...g,hiddenTextDescribedById:U}))}),tC=(0,p.createContext)(null),tE="button",tP={timeout:25};function tS(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:i}=e,a=es("Droppable"),{active:s,dispatch:o,over:d,measureDroppableContainers:c}=(0,p.useContext)(tv),u=(0,p.useRef)({disabled:r}),h=(0,p.useRef)(!1),m=(0,p.useRef)(null),g=(0,p.useRef)(null),{disabled:f,updateMeasurementsFor:x,timeout:b}={...tP,...i},v=er(null!=x?x:n),y=ta({callback:(0,p.useCallback)(()=>{if(!h.current){h.current=!0;return}null!=g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{c(Array.isArray(v.current)?v.current:[v.current]),g.current=null},b)},[b]),disabled:f||!s}),[w,j]=el((0,p.useCallback)((e,t)=>{y&&(t&&(y.unobserve(t),h.current=!1),e&&y.observe(e))},[y])),N=er(t);return(0,p.useEffect)(()=>{y&&w.current&&(y.disconnect(),h.current=!1,y.observe(w.current))},[w,y]),(0,p.useEffect)(()=>(o({type:l.RegisterDroppable,element:{id:n,key:a,disabled:r,node:w,rect:m,data:N}}),()=>o({type:l.UnregisterDroppable,key:a,id:n})),[n]),(0,p.useEffect)(()=>{r!==u.current.disabled&&(o({type:l.SetDroppableDisabled,id:n,key:a,disabled:r}),u.current.disabled=r)},[n,a,r,o]),{active:s,rect:m,isOver:(null==d?void 0:d.id)===n,node:w,over:d,setNodeRef:j}}n={styles:{active:{opacity:"0"}}},e=>{let{active:t,dragOverlay:r}=e,l={},{styles:i,className:a}=n;if(null!=i&&i.active)for(let[e,r]of Object.entries(i.active))void 0!==r&&(l[e]=t.node.style.getPropertyValue(e),t.node.style.setProperty(e,r));if(null!=i&&i.dragOverlay)for(let[e,t]of Object.entries(i.dragOverlay))void 0!==t&&r.node.style.setProperty(e,t);return null!=a&&a.active&&t.node.classList.add(a.active),null!=a&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(let[e,r]of Object.entries(l))t.node.style.setProperty(e,r);null!=a&&a.active&&t.node.classList.remove(a.active)}};function tM(e,t,r){let n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function tL(e){return null!==e&&e>=0}let tR=e=>{let{rects:t,activeIndex:r,overIndex:n,index:l}=e,i=tM(t,n,r),a=t[l],s=i[l];return s&&a?{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}:null},tT={scaleX:1,scaleY:1},tA=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:l,rects:i,overIndex:a}=e,s=null!=(t=i[r])?t:n;if(!s)return null;if(l===r){let e=i[a];return e?{x:0,y:r<a?e.top+e.height-(s.top+s.height):e.top-s.top,...tT}:null}let o=function(e,t,r){let n=e[t],l=e[t-1],i=e[t+1];return n?r<t?l?n.top-(l.top+l.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):l?n.top-(l.top+l.height):0:0}(i,l,r);return l>r&&l<=a?{x:0,y:-s.height-o,...tT}:l<r&&l>=a?{x:0,y:s.height+o,...tT}:{x:0,y:0,...tT}},tO="Sortable",tI=f().createContext({activeIndex:-1,containerId:tO,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tR,disabled:{draggable:!1,droppable:!1}});function tF(e){let{children:t,id:r,items:n,strategy:l=tR,disabled:i=!1}=e,{active:a,dragOverlay:s,droppableRects:o,over:d,measureDroppableContainers:c}=(0,p.useContext)(ty),u=es(tO,r),h=null!==s.rect,m=(0,p.useMemo)(()=>n.map(e=>"object"==typeof e&&"id"in e?e.id:e),[n]),g=null!=a,x=a?m.indexOf(a.id):-1,b=d?m.indexOf(d.id):-1,v=(0,p.useRef)(m),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(m,v.current),w=-1!==b&&-1===x||y,j="boolean"==typeof i?{draggable:i,droppable:i}:i;ee(()=>{y&&g&&c(m)},[y,m,g,c]),(0,p.useEffect)(()=>{v.current=m},[m]);let N=(0,p.useMemo)(()=>({activeIndex:x,containerId:u,disabled:j,disableTransforms:w,items:m,overIndex:b,useDragOverlay:h,sortedRects:m.reduce((e,t,r)=>{let n=o.get(t);return n&&(e[r]=n),e},Array(m.length)),strategy:l}),[x,u,j.draggable,j.droppable,w,m,b,o,h,l]);return f().createElement(tI.Provider,{value:N},t)}let tz=e=>{let{id:t,items:r,activeIndex:n,overIndex:l}=e;return tM(r,n,l).indexOf(t)},tB=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:l,items:i,newIndex:a,previousItems:s,previousContainerId:o,transition:d}=e;return!!d&&!!n&&(s===i||l!==a)&&(!!r||a!==l&&t===o)},t$={duration:200,easing:"ease"},t_="transform",tW=em.Transition.toString({property:t_,duration:0,easing:"linear"}),tK={roleDescription:"sortable"};function tU(e){if(!e)return!1;let t=e.data.current;return!!t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable}let tH=[s.Down,s.Right,s.Up,s.Left],tq=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:l,droppableContainers:i,over:a,scrollableAncestors:o}}=t;if(tH.includes(e.code)){if(e.preventDefault(),!r||!n)return;let t=[];i.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;let i=l.get(r.id);if(i)switch(e.code){case s.Down:n.top<i.top&&t.push(r);break;case s.Up:n.top>i.top&&t.push(r);break;case s.Left:n.left>i.left&&t.push(r);break;case s.Right:n.left<i.left&&t.push(r)}});let d=eR({active:r,collisionRect:n,droppableRects:l,droppableContainers:t,pointerCoordinates:null}),c=eS(d,"id");if(c===(null==a?void 0:a.id)&&d.length>1&&(c=d[1].id),null!=c){let e=i.get(r.id),t=i.get(c),a=t?l.get(t.id):null,s=null==t?void 0:t.node.current;if(s&&a&&e&&t){let r=eB(s).some((e,t)=>o[t]!==e),l=tX(e,t),i=function(e,t){return!!tU(e)&&!!tU(t)&&!!tX(e,t)&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),d=r||!l?{x:0,y:0}:{x:i?n.width-a.width:0,y:i?n.height-a.height:0},c={x:a.left,y:a.top};return d.x&&d.y?c:ec(c,d)}}}};function tX(e,t){return!!tU(e)&&!!tU(t)&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}let tV=({children:e,onReorder:t,onMoveToCompleted:r,onMoveToPlanned:n,items:l})=>{let i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,p.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(eN(e8),eN(e4,{coordinateGetter:tq}));return(0,g.jsx)(tD,{sensors:i,collisionDetection:eL,onDragEnd:e=>{let{active:i,over:a}=e;if(a){if("completed"===a.id&&r)return void r(i.id);if("planned"===a.id&&n||"pending"===a.id&&n)return void n(i.id);if(i.id!==a.id){let e=l.findIndex(e=>e.id===i.id),r=l.findIndex(e=>e.id===a.id);-1!==e&&-1!==r&&t(e,r)}}},children:(0,g.jsx)(tF,{items:l.map(e=>e.id),strategy:tA,children:e})})},tY=({id:e,children:t})=>{let{attributes:r,listeners:n,setNodeRef:l,transform:i,transition:a,isDragging:s}=function(e){var t,r,n,l;let{animateLayoutChanges:i=tB,attributes:a,disabled:s,data:o,getNewIndex:d=tz,id:c,strategy:u,resizeObserverConfig:h,transition:m=t$}=e,{items:g,containerId:f,activeIndex:x,disabled:b,disableTransforms:v,sortedRects:y,overIndex:w,useDragOverlay:j,strategy:N}=(0,p.useContext)(tI),k=(t=s,r=b,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(n=null==t?void 0:t.draggable)?n:r.draggable,droppable:null!=(l=null==t?void 0:t.droppable)?l:r.droppable}),D=g.indexOf(c),C=(0,p.useMemo)(()=>({sortable:{containerId:f,index:D,items:g},...o}),[f,o,D,g]),E=(0,p.useMemo)(()=>g.slice(g.indexOf(c)),[g,c]),{rect:P,node:S,isOver:M,setNodeRef:L}=tS({id:c,data:C,disabled:k.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...h}}),{active:R,activatorEvent:T,activeNodeRect:A,attributes:O,setNodeRef:I,listeners:F,isDragging:z,over:B,setActivatorNodeRef:$,transform:_}=function(e){let{id:t,data:r,disabled:n=!1,attributes:l}=e,i=es("Draggable"),{activators:a,activatorEvent:s,active:o,activeNodeRect:d,ariaDescribedById:c,draggableNodes:u,over:h}=(0,p.useContext)(tv),{role:m=tE,roleDescription:g="draggable",tabIndex:f=0}=null!=l?l:{},x=(null==o?void 0:o.id)===t,b=(0,p.useContext)(x?tk:tC),[v,y]=el(),[w,j]=el(),N=(0,p.useMemo)(()=>a.reduce((e,r)=>{let{eventName:n,handler:l}=r;return e[n]=e=>{l(e,t)},e},{}),[a,t]),k=er(r);return ee(()=>(u.set(t,{id:t,key:i,node:v,activatorNode:w,data:k}),()=>{let e=u.get(t);e&&e.key===i&&u.delete(t)}),[u,t]),{active:o,activatorEvent:s,activeNodeRect:d,attributes:(0,p.useMemo)(()=>({role:m,tabIndex:f,"aria-disabled":n,"aria-pressed":!!x&&m===tE||void 0,"aria-roledescription":g,"aria-describedby":c.draggable}),[n,m,f,x,g,c.draggable]),isDragging:x,listeners:n?void 0:N,node:v,over:h,setNodeRef:y,setActivatorNodeRef:j,transform:b}}({id:c,data:C,attributes:{...tK,...a},disabled:k.draggable}),W=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,p.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(L,I),K=!!R,U=K&&!v&&tL(x)&&tL(w),H=!j&&z,q=H&&U?_:null,X=U?null!=q?q:(null!=u?u:N)({rects:y,activeNodeRect:A,activeIndex:x,overIndex:w,index:D}):null,V=tL(x)&&tL(w)?d({id:c,items:g,activeIndex:x,overIndex:w}):D,Y=null==R?void 0:R.id,J=(0,p.useRef)({activeId:Y,items:g,newIndex:V,containerId:f}),G=g!==J.current.items,Q=i({active:R,containerId:f,isDragging:z,isSorting:K,id:c,index:D,items:g,newIndex:J.current.newIndex,previousItems:J.current.items,previousContainerId:J.current.containerId,transition:m,wasDragging:null!=J.current.activeId}),Z=function(e){let{disabled:t,index:r,node:n,rect:l}=e,[i,a]=(0,p.useState)(null),s=(0,p.useRef)(r);return ee(()=>{if(!t&&r!==s.current&&n.current){let e=l.current;if(e){let t=eF(n.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&a(r)}}r!==s.current&&(s.current=r)},[t,r,n,l]),(0,p.useEffect)(()=>{i&&a(null)},[i]),i}({disabled:!Q,index:D,node:S,rect:P});return(0,p.useEffect)(()=>{K&&J.current.newIndex!==V&&(J.current.newIndex=V),f!==J.current.containerId&&(J.current.containerId=f),g!==J.current.items&&(J.current.items=g)},[K,V,f,g]),(0,p.useEffect)(()=>{if(Y===J.current.activeId)return;if(null!=Y&&null==J.current.activeId){J.current.activeId=Y;return}let e=setTimeout(()=>{J.current.activeId=Y},50);return()=>clearTimeout(e)},[Y]),{active:R,activeIndex:x,attributes:O,data:C,rect:P,index:D,newIndex:V,items:g,isOver:M,isSorting:K,isDragging:z,listeners:F,node:S,overIndex:w,over:B,setNodeRef:W,setActivatorNodeRef:$,setDroppableNodeRef:L,setDraggableNodeRef:I,transform:null!=Z?Z:X,transition:Z||G&&J.current.newIndex===D?tW:(!H||eu(T))&&m&&(K||Q)?em.Transition.toString({...m,property:t_}):void 0}}({id:e}),o={transform:em.Transform.toString(i),transition:a,opacity:s?.5:1};return f().useEffect(()=>{let t=window;return t.__dragProps||(t.__dragProps={}),n&&(t.__dragProps[e]={attributes:r,listeners:n}),()=>{t.__dragProps&&delete t.__dragProps[e]}},[e,r,n]),(0,g.jsx)("div",{ref:l,style:o,className:"relative group",children:t})},tJ=({id:e,children:t,className:r=""})=>{let{setNodeRef:n,isOver:l}=tS({id:e});return(0,g.jsx)("div",{ref:n,className:`${r} ${l?"bg-blue-50 border-2 border-blue-300 border-dashed":""}`,children:t})},tG=({size:e="md",className:t=""})=>(0,g.jsx)("div",{className:`flex items-center justify-center ${t}`,children:(0,g.jsx)("div",{className:`${{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[e]} animate-spin rounded-full border-2 border-gray-300 border-t-blue-600`})}),tQ=()=>{let{items:e,openAddForm:t,reorderItems:r,moveToCompleted:n,moveToPlanned:l,fetchItems:i,isLoading:a,error:s,selectItem:o,openDetailPanel:d,clearError:c}=R();(0,p.useEffect)(()=>{i().catch(e=>{window.alert("구입 리스트를 불러오는 중 오류가 발생했습니다: "+e.message)})},[]),(0,p.useEffect)(()=>{s&&(window.alert(s),c())},[s,c]);let u=e=>{o(e),d()},h=e.filter(e=>e.isPurchased),m=e.filter(e=>!e.isPurchased);return(0,g.jsxs)("div",{className:"h-full flex flex-col overflow-hidden",children:[(0,g.jsx)(F,{onClick:t}),(0,g.jsx)("div",{className:"flex-1 overflow-y-auto",children:a?(0,g.jsx)("div",{className:"flex items-center justify-center h-full bg-white",children:(0,g.jsx)(tG,{size:"lg"})}):e.length>0?(0,g.jsxs)(tV,{onReorder:r,onMoveToCompleted:n,onMoveToPlanned:l,items:e,children:[m.length>0&&(0,g.jsx)("div",{className:"mr-[10px]",children:(0,g.jsxs)(tJ,{id:"pending",className:"mt-6",children:[(0,g.jsx)("h3",{className:"text-lg font-bold text-blue-200 mb-4",style:{fontWeight:700},children:"구입 예정"}),(0,g.jsx)("div",{className:"space-y-3",children:m.map(e=>(0,g.jsx)(tY,{id:e.id,children:(0,g.jsx)("div",{onClick:()=>u(e),children:(0,g.jsx)(I,{item:e})})},e.id))})]})}),h.length>0&&(0,g.jsx)("div",{className:"mr-[10px]",children:(0,g.jsxs)(tJ,{id:"completed",className:"mt-12",children:[(0,g.jsx)("h3",{className:"text-lg font-bold text-blue-200 mb-4",style:{fontWeight:700},children:"구입 완료"}),(0,g.jsx)("div",{className:"space-y-3",children:h.map(e=>(0,g.jsx)(tY,{id:e.id,children:(0,g.jsx)("div",{onClick:()=>u(e),children:(0,g.jsx)(I,{item:e})})},e.id))})]})})]}):(0,g.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,g.jsx)("div",{className:"text-gray-400 mb-4",children:(0,g.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,g.jsx)("p",{className:"text-gray-500 text-lg",children:"뭘 사야 잘 샀다고 소문이 날까?"}),(0,g.jsx)("button",{onClick:t,className:"mt-4 px-6 py-2 bg-yellow-100 text-yellow-600 rounded-lg hover:bg-yellow-200 transition-colors duration-200",children:"첫 항목 추가하기"})]})}),(0,g.jsx)(W,{}),(0,g.jsx)(U,{})]})},tZ="/api/schedule",t0=async()=>{let e=await fetch(tZ),t=await e.json();if(!t.success)throw Error(t.error||"Failed to fetch schedule items");return t.data||[]},t1=async e=>{let t=await fetch(tZ,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!r.success)throw Error(r.error||"Failed to create schedule item");return r.data},t2=async(e,t)=>{let r=await fetch(`${tZ}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!n.success)throw Error(n.error||"Failed to update schedule item");return n.data},t4=async e=>{let t=await fetch(`${tZ}/${e}`,{method:"DELETE"}),r=await t.json();if(!r.success)throw Error(r.error||"Failed to delete schedule item")},t3={date:new Date().toISOString().split("T")[0],time:"",status:"예정",description:""},t5=j((e,t)=>({items:[],selectedItem:null,isDetailPanelOpen:!1,isAddFormOpen:!1,scheduleForm:t3,loading:!1,error:null,loadItems:async()=>{e({loading:!0,error:null});try{let t=(await t0()).map(e=>({...e,status:e.status,completed:"완료"===e.status,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}));e({items:t,loading:!1})}catch(t){e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",loading:!1})}},addItem:async r=>{e({loading:!0,error:null});try{let n={date:r.date,time:r.time,status:r.status,description:r.description},l=await t1(n),i={...l,status:l.status,completed:"완료"===l.status,createdAt:new Date(l.createdAt),updatedAt:new Date(l.updatedAt)};e(e=>({items:[...e.items,i],loading:!1})),t().resetScheduleForm(),t().closeAddForm()}catch(t){e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",loading:!1})}},updateItem:async(t,r)=>{e({loading:!0,error:null});try{let n={id:t,date:r.date,time:r.time,status:r.status,description:r.description},l=await t2(t,n),i={...l,status:l.status,completed:"완료"===l.status,createdAt:new Date(l.createdAt),updatedAt:new Date(l.updatedAt)};e(e=>({items:e.items.map(e=>e.id===t?i:e),loading:!1,isAddFormOpen:!1,isDetailPanelOpen:!1,selectedItem:null})),window.alert("일정을 수정했어요 ! !")}catch(t){t instanceof Error&&t.message.includes("400")?window.alert("잘못 입력햇다 햇짠아 ! ! !"):t instanceof Error&&t.message.includes("500")?window.alert("서버가 주것습니다 -- ;;"):window.alert("먼지 모를 오류라네요"),e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",loading:!1})}},deleteItem:async t=>{e({loading:!0,error:null});try{await t4(t),e(e=>({items:e.items.filter(e=>e.id!==t),loading:!1}))}catch(t){e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",loading:!1})}},toggleItem:async e=>{let r=t().items.find(t=>t.id===e);if(!r)return;let n="예정"===r.status?"완료":"예정";await t().updateItem(e,{date:r.date,time:r.time||"",status:n,description:r.description})},selectItem:t=>{e({selectedItem:t})},openDetailPanel:()=>{e({isDetailPanelOpen:!0})},closeDetailPanel:()=>{e({isDetailPanelOpen:!1,selectedItem:null})},openAddForm:()=>{e({isAddFormOpen:!0})},closeAddForm:()=>{e({isAddFormOpen:!1,selectedItem:null}),t().resetScheduleForm()},updateScheduleForm:(t,r)=>{e(e=>({scheduleForm:{...e.scheduleForm,[t]:r}}))},resetScheduleForm:()=>{e({scheduleForm:t3})},reorderItems:(t,r)=>{e(e=>{let n=[...e.items],[l]=n.splice(t,1);return n.splice(r,0,l),{items:n}})},moveToCompleted:async e=>{let r=t().items.find(t=>t.id===e);r&&await t().updateItem(e,{date:r.date,time:r.time||"",status:"완료",description:r.description})},moveToPlanned:async e=>{let r=t().items.find(t=>t.id===e);r&&await t().updateItem(e,{date:r.date,time:r.time||"",status:"예정",description:r.description})},clearError:()=>{e({error:null})}})),t6=e=>new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}),t7=e=>new Date(`2000-01-01T${e}`).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),t8=e=>"bg-yellow-100 text-yellow-600",t9=({item:e})=>{let{toggleItem:t,deleteItem:r,selectItem:n,openDetailPanel:l,openAddForm:i,updateScheduleForm:a}=t5(),s=window.__dragProps?.[e.id],o=()=>{a("date",e.date),a("time",e.time||""),a("status",e.status),a("description",e.description),n(e),i()},d=()=>{window.confirm("일정을 삭제하시겠습니까?")&&r(e.id)};return(0,g.jsxs)("div",{className:`flex items-center gap-3 p-4 rounded-lg transition-all duration-300 group schedule-item ${e.completed?"bg-green-50 hover:bg-green-100":"bg-gray-50 hover:bg-gray-100"}`,children:[(0,g.jsx)("button",{onClick:r=>{r.preventDefault(),r.stopPropagation(),r.nativeEvent.stopImmediatePropagation(),t(e.id)},onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},onPointerDown:e=>{e.stopPropagation()},className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-300 flex-shrink-0 z-20 ${e.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-green-400"}`,children:e.completed&&(0,g.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,g.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,g.jsx)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{n(e),l()},style:{cursor:"pointer"},children:(0,g.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,g.jsx)("span",{className:"text-sm font-medium text-gray-600",children:t6(e.date)}),e.time&&(0,g.jsx)("span",{className:"text-sm text-gray-500",children:t7(e.time)}),(0,g.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium transition-all duration-300 ${e.completed?"bg-green-200 text-green-700":t8(e.status)}`,children:e.status})]}),(0,g.jsx)("div",{className:`text-lg font-medium line-clamp-2 transition-all duration-300 py-1 ${e.completed?"text-green-600":"text-gray-700"}`,children:e.description})]})})}),(0,g.jsxs)("div",{className:"flex items-center gap-1 transition-opacity duration-200",children:[(0,g.jsx)("button",{onClick:e=>{e.stopPropagation(),o()},className:"p-1.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-md transition-colors duration-200",title:"수정",children:(0,g.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,g.jsx)("button",{onClick:e=>{e.stopPropagation(),d()},className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors duration-200",title:"삭제",children:(0,g.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,g.jsx)("div",{...s?.attributes,...s?.listeners,className:"p-1.5 text-gray-300 cursor-grab active:cursor-grabbing",onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:(0,g.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})})]})]})},re=["예정","완료"],rt=()=>{let{isAddFormOpen:e,selectedItem:t,scheduleForm:r,closeAddForm:n,updateScheduleForm:l,addItem:i,updateItem:a}=t5(),s=!!t;return(0,g.jsx)(z,{isOpen:e,onClose:n,title:s?"일정 수정":"일정 추가",children:(0,g.jsx)(B,{showActions:!0,onSave:()=>{r.date&&r.description?.trim()&&(s&&t?a(t.id,r):i(r))},saveText:s?"수정하기":"추가하기",isSaveDisabled:!r.date||!r.description?.trim(),children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["날짜 ",(0,g.jsx)("span",{className:"text-yellow-500 font-bold",children:"*"})]}),(0,g.jsx)("input",{type:"date",value:r.date,onChange:e=>l("date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"시간"}),(0,g.jsx)("input",{type:"time",value:r.time,onChange:e=>l("time",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["상태 ",(0,g.jsx)("span",{className:"text-yellow-500 font-bold",children:"*"})]}),(0,g.jsx)("div",{className:"flex gap-2",children:re.map(e=>(0,g.jsx)("button",{type:"button",onClick:()=>l("status",e),className:`flex-1 px-4 py-2 rounded-lg border-2 transition-all duration-200 font-medium text-sm ${r.status===e?"완료"===e?"border-green-500 bg-green-500 text-white":"border-blue-500 bg-blue-500 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:e},e))})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["일정 내용 ",(0,g.jsx)("span",{className:"text-yellow-500 font-bold",children:"*"})]}),(0,g.jsx)("textarea",{value:r.description,onChange:e=>l("description",e.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent resize-none",placeholder:"일정 내용을 입력하세요",required:!0})]})]})})})},rr=()=>{let{selectedItem:e,isDetailPanelOpen:t,closeDetailPanel:r,deleteItem:n}=t5();return(0,g.jsx)(z,{isOpen:t,onClose:r,children:e&&(0,g.jsx)(B,{showActions:!0,onDelete:()=>n(e.id),saveText:"수정",deleteText:"삭제",children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"날짜"}),(0,g.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:new Date(e.date).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})})]}),e.time&&(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"시간"}),(0,g.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:(e=>{let[t,r]=e.split(":");return`${t}:${r}`})(e.time)})]}),(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"상태"}),(0,g.jsx)("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${"완료"===e.status?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:e.status})]}),(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"일정 내용"}),(0,g.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 max-h-48 overflow-y-auto",children:(0,g.jsx)("div",{className:"text-gray-800 whitespace-pre-wrap break-words",children:e.description})})]}),(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"생성일"}),(0,g.jsx)("div",{className:"text-sm text-gray-600",children:e.createdAt.toLocaleDateString("ko-KR")})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"수정일"}),(0,g.jsx)("div",{className:"text-sm text-gray-600",children:e.updatedAt.toLocaleDateString("ko-KR")})]})]})})]})})})},rn=()=>{let{items:e,openAddForm:t,reorderItems:r,moveToCompleted:n,moveToPlanned:l,loadItems:i,loading:a,error:s,selectItem:o,openDetailPanel:d,clearError:c}=t5();(0,p.useEffect)(()=>{i().catch(e=>{window.alert("일정 리스트를 불러오는 중 오류가 발생했습니다: "+e.message)})},[]),(0,p.useEffect)(()=>{s&&(window.alert(s),c())},[s,c]);let u=e=>{o(e),d()},h=e.filter(e=>"완료"===e.status),m=e.filter(e=>"예정"===e.status);return(0,g.jsxs)("div",{className:"h-full flex flex-col overflow-hidden",children:[(0,g.jsx)(F,{onClick:t}),(0,g.jsx)("div",{className:"flex-1 overflow-y-auto",children:a?(0,g.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,g.jsx)(tG,{})}):e.length>0?(0,g.jsxs)(tV,{onReorder:r,onMoveToCompleted:n,onMoveToPlanned:l,items:e,children:[m.length>0&&(0,g.jsxs)(tJ,{id:"planned",className:"mt-6",children:[(0,g.jsx)("h3",{className:"text-lg font-bold text-blue-200 mb-4",style:{fontWeight:700},children:"예정된 일정"}),(0,g.jsx)("div",{className:"space-y-3",children:m.map(e=>(0,g.jsx)(tY,{id:e.id,children:(0,g.jsx)("div",{onClick:()=>u(e),children:(0,g.jsx)(t9,{item:e})})},e.id))})]}),h.length>0&&(0,g.jsxs)(tJ,{id:"completed",className:"mt-12",children:[(0,g.jsx)("h3",{className:"text-lg font-bold text-blue-200 mb-4",style:{fontWeight:700},children:"완료된 일정"}),(0,g.jsx)("div",{className:"space-y-3",children:h.map(e=>(0,g.jsx)(tY,{id:e.id,children:(0,g.jsx)("div",{onClick:()=>u(e),children:(0,g.jsx)(t9,{item:e})})},e.id))})]})]}):(0,g.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,g.jsx)("div",{className:"text-gray-400 mb-4",children:(0,g.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,g.jsx)("p",{className:"text-gray-500 text-lg",children:"바쁘다 바빠! 이사 일정 계획하기"}),(0,g.jsx)("button",{onClick:t,className:"mt-4 px-6 py-2 bg-yellow-100 text-yellow-600 rounded-lg hover:bg-yellow-200 transition-colors duration-200",children:"첫 일정 추가하기"})]})}),(0,g.jsx)(rt,{}),(0,g.jsx)(rr,{})]})},rl=()=>{let{activeTab:e}=N();return(0,g.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 border-t-0 flex-1 flex flex-col min-h-0 p-6",children:(0,g.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:["purchase"===e&&(0,g.jsx)(tQ,{}),"schedule"===e&&(0,g.jsx)(rn,{})]})})},ri=()=>(0,g.jsxs)("div",{className:"h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col",children:[(0,g.jsx)("div",{className:"text-center py-4 flex-shrink-0 my-2 relative z-0",children:(0,g.jsx)("h1",{className:"text-3xl font-black text-blue-200 cursor-default select-none",children:"⊹⁺⸜ C H E C K L I S T ⸝⁺⊹"})}),(0,g.jsx)("div",{className:"flex-1 px-4 pb-4 flex flex-col min-h-0",children:(0,g.jsxs)("div",{className:"max-w-4xl mx-auto w-full flex-1 flex flex-col min-h-0",children:[(0,g.jsx)("div",{className:"relative z-10 flex-shrink-0",children:(0,g.jsx)(k,{})}),(0,g.jsx)("div",{className:"relative z-10 flex-1 flex flex-col min-h-0",children:(0,g.jsx)(rl,{})})]})})]})},8823:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(7413),l=r(3932);function i(){return(0,n.jsx)(l.default,{})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[447,825],()=>r(559));module.exports=n})();