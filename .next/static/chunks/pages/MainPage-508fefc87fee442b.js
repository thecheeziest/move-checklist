(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[666],{2103:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>$});var s=r(7876),a=r(4232);let l=e=>{let{isActive:t,onClick:r,children:a,color:l,isLast:n=!1}=e,i="\n    relative px-6 py-3 rounded-t-2xl font-medium transition-all duration-200 select-none text-sm z-10\n    border border-gray-200 border-b-0\n    ".concat(t?"bg-white text-yellow-600 shadow-none":"bg-blue-100 text-blue-400 hover:bg-yellow-100 hover:text-yellow-600 shadow-none","\n    ").concat(n?"":"mr-4","\n  ");return(0,s.jsx)("button",{onClick:r,className:"".concat(i," ").concat({pink:t?"text-yellow-600":"text-gray-600 hover:bg-yellow-100 hover:text-yellow-600",green:t?"text-yellow-600":"text-gray-600 hover:bg-yellow-100 hover:text-yellow-600"}[l]),"aria-selected":t,role:"tab",children:(0,s.jsx)("span",{children:a})})};var n=r(8106);let i=(0,n.v)(e=>({activeTab:"purchase",setActiveTab:t=>e({activeTab:t})})),o=()=>{let{activeTab:e,setActiveTab:t}=i(),r=[{id:"purchase",label:"구입",color:"pink"},{id:"schedule",label:"일정",color:"green"}];return(0,s.jsx)("div",{className:"flex justify-center mb-0",children:(0,s.jsx)("div",{className:"flex",children:r.map((a,n)=>(0,s.jsx)(l,{isActive:e===a.id,onClick:()=>t(a.id),color:a.color,isLast:n===r.length-1,children:a.label},a.id))})})},d="/api/purchase",c=async()=>{let e=await fetch(d),t=await e.json();if(!t.success)throw Error(t.error||"Failed to fetch purchase items");return t.data||[]},m=async e=>{let t=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!r.success)throw Error(r.error||"Failed to create purchase item");return r.data},u=async(e,t)=>{let r=await fetch("".concat(d,"/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await r.json();if(!s.success)throw Error(s.error||"Failed to update purchase item");return s.data},x=async e=>{let t=await fetch("".concat(d,"/").concat(e),{method:"DELETE"}),r=await t.json();if(!r.success)throw Error(r.error||"Failed to delete purchase item")},h=e=>("string"==typeof e?parseInt(e.replace(/,/g,"")):e).toLocaleString(),p={category:"기타",brand:"",title:"",price:"",purchasedDate:"",isPurchased:!1,option:"",memo:"",url:""},g=(0,n.v)((e,t)=>({items:[],selectedItem:null,isDetailPanelOpen:!1,isAddFormOpen:!1,purchaseForm:p,isLoading:!1,error:null,fetchItems:async()=>{e({isLoading:!0,error:null});try{let t=(await c()).map(e=>({...e,category:e.category,price:h(e.price),createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}));e({items:t,isLoading:!1})}catch(t){t instanceof Error&&t.message.includes("500")?window.alert("서버가 주것습니다 -- ;;"):window.alert(t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다"),e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",isLoading:!1})}},addItem:async r=>{e({isLoading:!0,error:null});try{let s={category:r.category,brand:r.brand||void 0,title:r.title,price:r.price.replace(/,/g,""),purchasedDate:r.purchasedDate||void 0,isPurchased:r.isPurchased,option:r.option||void 0,memo:r.memo||void 0,url:r.url||void 0},a=await m(s),l={...a,category:a.category,price:h(a.price),createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)};e(e=>({items:[...e.items,l],isLoading:!1,isAddFormOpen:!1,isDetailPanelOpen:!1,selectedItem:null})),window.alert("항목을 추가했어요 ! !"),t().resetPurchaseForm()}catch(t){t instanceof Error&&t.message.includes("400")?window.alert("잘못 입력햇다 햇짠아 ! ! !"):t instanceof Error&&t.message.includes("500")?window.alert("서버가 주것습니다 -- ;;"):window.alert("알 수 없는 오류가 발생했습니다"),e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",isLoading:!1})}},updateItem:async function(t,r){let s=!(arguments.length>2)||void 0===arguments[2]||arguments[2];e({isLoading:!0,error:null});try{let a={};void 0!==r.category&&(a.category=r.category),void 0!==r.brand&&(a.brand=r.brand),void 0!==r.title&&(a.title=r.title),void 0!==r.price&&(a.price=String(r.price).replace(/,/g,"")),void 0!==r.purchasedDate&&(a.purchasedDate=r.purchasedDate),void 0!==r.isPurchased&&(a.isPurchased=r.isPurchased),void 0!==r.option&&(a.option=r.option),void 0!==r.memo&&(a.memo=r.memo),void 0!==r.url&&(a.url=r.url),void 0===r.purchasedDate&&!1===r.isPurchased&&(a.purchasedDate=null);let l={id:t,...a},n=await u(t,l),i={...n,category:n.category,price:h(n.price),createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)};e(e=>({items:e.items.map(e=>e.id===t?i:e),isLoading:!1,isAddFormOpen:!1,isDetailPanelOpen:!1,selectedItem:null})),s&&window.alert("항목을 수정했어요 ! !")}catch(t){t instanceof Error&&t.message.includes("400")?window.alert("잘못 입력햇다 햇짠아 ! ! !"):t instanceof Error&&t.message.includes("500")?window.alert("서버가 주것습니다 -- ;;"):window.alert("알 수 없는 오류가 발생했습니다"),e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",isLoading:!1})}},deleteItem:async t=>{e({isLoading:!0,error:null});try{await x(t),e(e=>({items:e.items.filter(e=>e.id!==t),isLoading:!1,isAddFormOpen:!1,isDetailPanelOpen:!1,selectedItem:null})),window.alert("항목을 삭제했어요.. 안녕 ~ ~")}catch(t){t instanceof Error&&t.message.includes("400")?window.alert("잘못 입력햇다 햇짠아 ! ! !"):t instanceof Error&&t.message.includes("500")?window.alert("서버가 주것습니다 -- ;;"):window.alert("알 수 없는 오류가 발생했습니다"),e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",isLoading:!1})}},toggleItem:async e=>{let r=t().items.find(t=>t.id===e);if(!r)return;let s=!r.isPurchased,a=r.purchasedDate;s&&!r.purchasedDate&&(a=new Date().toISOString().split("T")[0]);let l={isPurchased:s};a!==r.purchasedDate&&(l.purchasedDate=a),await t().updateItem(e,l,!1)},selectItem:t=>{e({selectedItem:t})},openDetailPanel:()=>{e({isDetailPanelOpen:!0})},closeDetailPanel:()=>{e({isDetailPanelOpen:!1,selectedItem:null})},openAddForm:()=>{e({isAddFormOpen:!0})},closeAddForm:()=>{e({isAddFormOpen:!1}),t().resetPurchaseForm()},updatePurchaseForm:(t,r)=>{e(e=>({purchaseForm:{...e.purchaseForm,[t]:r}}))},resetPurchaseForm:()=>{e({purchaseForm:p})},reorderItems:(t,r)=>{e(e=>{let s=[...e.items],[a]=s.splice(t,1);return s.splice(r,0,a),{items:s}})},moveToCompleted:async e=>{if(!t().items.find(t=>t.id===e))return;let r=new Date().toISOString().split("T")[0];await t().updateItem(e,{isPurchased:!0,purchasedDate:r},!0)},moveToPlanned:async e=>{await t().updateItem(e,{isPurchased:!1,purchasedDate:void 0},!0)},clearError:()=>{e({error:null})}})),b=e=>e.toLocaleString(),f=e=>e.isPurchased?"구매 완료 (".concat(e.purchasedDate?new Date(e.purchasedDate).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"날짜 없음",")"):"구매 예정 (".concat(e.purchasedDate?new Date(e.purchasedDate).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"날짜 없음",")"),j=e=>{switch(e){case"가구":return"bg-amber-200 text-amber-800";case"가전":return"bg-teal-100 text-teal-700";case"소품":return"bg-pink-100 text-pink-700";case"정리":return"bg-purple-100 text-purple-700";case"식기":return"bg-blue-100 text-blue-700";case"렌트":return"bg-yellow-100 text-yellow-600";default:return"bg-gray-100 text-gray-700"}},v=e=>{var t;let{item:r}=e,{toggleItem:a,deleteItem:l,selectItem:n,openDetailPanel:i,openAddForm:o,updatePurchaseForm:d}=g(),c=null==(t=window.__dragProps)?void 0:t[r.id],m=()=>{d("category",r.category),d("brand",r.brand||""),d("title",r.title),d("price",r.price.toString()),d("purchasedDate",r.purchasedDate?r.purchasedDate:""),d("isPurchased",r.isPurchased),d("option",r.option||""),d("memo",r.memo||""),d("url",r.url||""),n(r),o()},u=()=>{window.confirm("구매 항목을 삭제하시겠습니까?")&&l(r.id)},x=r.isPurchased;return(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-lg transition-all duration-300 group checklist-item ".concat(x?"bg-green-50 hover:bg-green-100":"bg-gray-50 hover:bg-gray-100"),children:[(0,s.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),a(r.id)},onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},onPointerDown:e=>{e.stopPropagation()},className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-300 flex-shrink-0 z-20 ".concat(x?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-green-400"),children:x&&(0,s.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{n(r),i()},style:{cursor:"pointer"},children:(0,s.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium transition-all duration-300 ".concat(x?"bg-green-200 text-green-700":j(r.category)),children:r.category}),r.brand&&(0,s.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:r.brand})]}),(0,s.jsx)("div",{className:"text-lg font-medium truncate transition-all duration-300 py-1 ".concat(x?"text-green-600":"text-gray-700"),children:r.title}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,s.jsxs)("span",{className:"text-sm font-semibold transition-all duration-300 ".concat(x?"text-gray-500":"text-blue-600"),children:["₩",b(parseInt(r.price.replace(/,/g,"")))]}),(0,s.jsx)("span",{className:"text-xs transition-all duration-300 ".concat(r.isPurchased?"text-gray-600":"text-yellow-600"),children:f(r)})]})]})})}),(0,s.jsxs)("div",{className:"flex items-center gap-1 transition-opacity duration-200",children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),m()},className:"p-1.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-md transition-colors duration-200",title:"수정",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),u()},className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors duration-200",title:"삭제",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,s.jsx)("div",{...null==c?void 0:c.attributes,...null==c?void 0:c.listeners,className:"p-1.5 text-gray-300 cursor-grab active:cursor-grabbing",onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})})]})]})},y=e=>{let{onClick:t}=e;return(0,s.jsx)("button",{onClick:t,className:"p-2 text-blue-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all duration-200 group self-start",title:"새 항목 추가",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})},w=e=>{let{isOpen:t,onClose:r,children:a,title:l}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black transition-opacity duration-300 z-[99999] ".concat(t?"bg-opacity-50 pointer-events-auto":"bg-opacity-0 pointer-events-none"),onClick:r}),(0,s.jsxs)("div",{className:"fixed top-0 right-0 h-screen w-96 bg-white shadow-2xl z-[999999] flex flex-col mt-0 slide-panel ".concat(t?"open":""),children:[(0,s.jsx)("div",{className:"flex-shrink-0 bg-white py-2 px-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[l&&(0,s.jsx)("h3",{className:"text-lg font-bold text-yellow-400",style:{fontWeight:700},children:l}),!l&&(0,s.jsx)("div",{}),(0,s.jsx)("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full transition-colors duration-200",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,s.jsx)("div",{className:"flex-1 flex flex-col min-h-0",children:a})]})]})},N=e=>{let{children:t,showActions:r=!1,onSave:a,onDelete:l,saveText:n="저장",deleteText:i="삭제",isSaveDisabled:o=!1}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6",style:{marginTop:0,paddingTop:0},children:t}),r&&(0,s.jsxs)("div",{className:"flex-shrink-0 p-4 space-y-3",children:[a&&(0,s.jsxs)("button",{onClick:a,disabled:o,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-yellow-100 text-yellow-600 rounded-lg hover:bg-yellow-200 transition-colors duration-200 font-medium disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n]}),l&&(0,s.jsxs)("button",{onClick:l,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),i]})]})]})},k=["가구","가전","소품","정리","식기","렌트","기타"];function D(e){let{url:t}=e,[r,l]=(0,a.useState)(null),[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)("");return((0,a.useEffect)(()=>{if(!t)return;i(!0),d("");let e=setTimeout(()=>{fetch("/api/og?url=".concat(encodeURIComponent(t))).then(e=>e.json()).then(e=>{e.success?l(e.data):d("URL 썸네일을 찾을 수 없습니다.")}).catch(()=>d("URL 썸네일을 찾을 수 없습니다.")).finally(()=>i(!1))},500);return()=>clearTimeout(e)},[t]),t)?n?(0,s.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:"미리보기 불러오는 중..."}):o?(0,s.jsx)("div",{className:"text-xs text-red-400 mt-2",children:o}):r?(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-2 p-2 border rounded bg-white/80",children:[r.image?(0,s.jsx)("img",{src:r.image,alt:"썸네일",className:"w-16 h-16 object-cover rounded"}):null,(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"font-semibold text-sm truncate",children:r.title}),r.description&&(0,s.jsx)("div",{className:"text-xs text-gray-500 truncate",children:r.description}),(0,s.jsx)("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 underline break-all",children:r.url})]})]}):null:null}let P=()=>{let{isAddFormOpen:e,selectedItem:t,purchaseForm:r,closeAddForm:a,updatePurchaseForm:l,addItem:n,updateItem:i}=g(),o=!!t,d=e=>{let t=e.replace(/[^\d]/g,"");return""===t?"":parseInt(t).toLocaleString()},c=e=>{l("price",d(e))};return(0,s.jsx)(w,{isOpen:e,onClose:a,title:o?"구입 항목 수정":"구입 항목 추가",children:(0,s.jsx)(N,{showActions:!0,onSave:()=>{r.title.trim()&&r.price&&(o&&t?i(t.id,r,!0):n(r))},saveText:o?"수정하기":"추가하기",isSaveDisabled:!r.title.trim()||!r.price,children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r.title.trim()&&r.price&&(o&&t?i(t.id,r,!0):n(r))},children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["카테고리 ",(0,s.jsx)("span",{className:"text-yellow-500 font-bold",children:"*"})]}),(0,s.jsx)("select",{value:r.category,onChange:e=>l("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,children:k.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"브랜드"}),(0,s.jsx)("input",{type:"text",value:r.brand,onChange:e=>l("brand",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"브랜드명을 입력하세요"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["제품명 ",(0,s.jsx)("span",{className:"text-yellow-500 font-bold",children:"*"})]}),(0,s.jsx)("input",{type:"text",value:r.title,onChange:e=>l("title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"제품명을 입력하세요",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["가격 ",(0,s.jsx)("span",{className:"text-yellow-500 font-bold",children:"*"})]}),(0,s.jsx)("input",{type:"text",value:r.price,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"1,000",required:!0})]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r.isPurchased?"구매일":"구매 예정일"}),(0,s.jsx)("input",{type:"date",value:r.purchasedDate,onChange:e=>l("purchasedDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"isPurchased",checked:r.isPurchased,onChange:e=>l("isPurchased",e.target.checked),className:"w-4 h-4 text-yellow-500 border-gray-300 rounded focus:ring-yellow-500"}),(0,s.jsx)("label",{htmlFor:"isPurchased",className:"ml-2 text-sm text-gray-700 cursor-pointer",children:"이미 구매했어요"})]})]})}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"옵션"}),(0,s.jsx)("input",{type:"text",value:r.option,onChange:e=>l("option",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"색상, 사이즈 등 옵션을 입력하세요"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비고"}),(0,s.jsx)("textarea",{value:r.memo,onChange:e=>l("memo",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent resize-none",placeholder:"추가 메모를 입력하세요"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL"}),(0,s.jsx)("input",{type:"url",value:r.url,onChange:e=>l("url",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"https://example.com"}),r.url&&(0,s.jsx)(D,{url:r.url})]})]})})})};function L(e){let{url:t}=e,[r,l]=(0,a.useState)(null),[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)("");return((0,a.useEffect)(()=>{if(!t)return;i(!0),d("");let e=setTimeout(()=>{fetch("/api/og?url=".concat(encodeURIComponent(t))).then(e=>e.json()).then(e=>{e.success?l(e.data):d("URL 썸네일을 찾을 수 없습니다.")}).catch(()=>d("URL 썸네일을 찾을 수 없습니다.")).finally(()=>i(!1))},500);return()=>clearTimeout(e)},[t]),t)?n?(0,s.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:"미리보기 불러오는 중..."}):o?(0,s.jsx)("div",{className:"text-xs text-red-400 mt-2",children:o}):r?(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-2 p-2 border rounded bg-white/80",children:[r.image?(0,s.jsx)("img",{src:r.image,alt:"썸네일",className:"w-16 h-16 object-cover rounded"}):null,(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"font-semibold text-sm truncate",children:r.title}),r.description&&(0,s.jsx)("div",{className:"text-xs text-gray-500 truncate",children:r.description}),(0,s.jsx)("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 underline break-all",children:r.url})]})]}):null:null}let C=()=>{let{selectedItem:e,isDetailPanelOpen:t,closeDetailPanel:r,deleteItem:a}=g();return(0,s.jsx)(w,{isOpen:t,onClose:r,children:e&&(0,s.jsx)(N,{showActions:!0,onDelete:()=>a(e.id),saveText:"수정",deleteText:"삭제",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리"}),(0,s.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat(e.isPurchased?"bg-green-100 text-green-700":(e=>{switch(e){case"가구":return"bg-amber-200 text-amber-800";case"가전":return"bg-teal-100 text-teal-700";case"소품":return"bg-pink-100 text-pink-700";case"정리":return"bg-purple-100 text-purple-700";case"식기":return"bg-blue-100 text-blue-700";case"렌트":return"bg-yellow-100 text-yellow-600";default:return"bg-gray-100 text-gray-700"}})(e.category)),children:e.category})]}),e.brand&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"브랜드"}),(0,s.jsx)("div",{className:"text-gray-800 font-medium",children:e.brand})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"제목"}),(0,s.jsx)("div",{className:"text-lg font-semibold text-gray-800 break-words",children:e.title})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"가격"}),(0,s.jsxs)("div",{className:"text-xl font-bold text-green-600",children:["₩",(e=>("string"==typeof e?parseInt(e.replace(/,/g,"")):e).toLocaleString())(e.price)]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"구매 상태"}),(0,s.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat(e.isPurchased?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"),children:e?e.isPurchased?e.purchasedDate?"구매완료 (".concat(new Date(e.purchasedDate).toLocaleDateString("ko-KR"),")"):"구매완료":e.purchasedDate?"구매예정 (".concat(new Date(e.purchasedDate).toLocaleDateString("ko-KR"),")"):"구매예정":""})]}),e.option&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"옵션"}),(0,s.jsx)("div",{className:"text-gray-800",children:e.option})]}),e.memo&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비고"}),(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 max-h-48 overflow-y-auto",children:(0,s.jsx)("div",{className:"text-gray-800 whitespace-pre-wrap break-words",children:e.memo})})]}),e.url&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL"}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-sm text-blue-600 break-all",children:(0,s.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:e.url})}),(0,s.jsx)(L,{url:e.url})]})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"생성일"}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.createdAt.toLocaleDateString("ko-KR")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"수정일"}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.updatedAt.toLocaleDateString("ko-KR")})]})]})})]})})})};var A=r(4664),E=r(4287);let S=e=>{let{children:t,onReorder:r,onMoveToCompleted:a,onMoveToPlanned:l,items:n}=e,i=(0,A.FR)((0,A.MS)(A.AN),(0,A.MS)(A.uN,{coordinateGetter:E.JR}));return(0,s.jsx)(A.Mp,{sensors:i,collisionDetection:A.fp,onDragEnd:e=>{let{active:t,over:s}=e;if(s){if("completed"===s.id&&a)return void a(t.id);if("planned"===s.id&&l||"pending"===s.id&&l)return void l(t.id);if(t.id!==s.id){let e=n.findIndex(e=>e.id===t.id),a=n.findIndex(e=>e.id===s.id);-1!==e&&-1!==a&&r(e,a)}}},children:(0,s.jsx)(E.gB,{items:n.map(e=>e.id),strategy:E._G,children:t})})};var I=r(3727);let F=e=>{let{id:t,children:r}=e,{attributes:l,listeners:n,setNodeRef:i,transform:o,transition:d,isDragging:c}=(0,E.gl)({id:t}),m={transform:I.Ks.Transform.toString(o),transition:d,opacity:c?.5:1};return a.useEffect(()=>{let e=window;return e.__dragProps||(e.__dragProps={}),n&&(e.__dragProps[t]={attributes:l,listeners:n}),()=>{e.__dragProps&&delete e.__dragProps[t]}},[t,l,n]),(0,s.jsx)("div",{ref:i,style:m,className:"relative group",children:r})},T=e=>{let{id:t,children:r,className:a=""}=e,{setNodeRef:l,isOver:n}=(0,A.zM)({id:t});return(0,s.jsx)("div",{ref:l,className:"".concat(a," ").concat(n?"bg-blue-50 border-2 border-blue-300 border-dashed":""),children:r})},M=e=>{let{size:t="md",className:r=""}=e;return(0,s.jsx)("div",{className:"flex items-center justify-center ".concat(r),children:(0,s.jsx)("div",{className:"".concat({sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[t]," animate-spin rounded-full border-2 border-gray-300 border-t-blue-600")})})},O=()=>{let{items:e,openAddForm:t,reorderItems:r,moveToCompleted:l,moveToPlanned:n,fetchItems:i,isLoading:o,error:d,selectItem:c,openDetailPanel:m,clearError:u}=g();(0,a.useEffect)(()=>{i().catch(e=>{window.alert("구입 리스트를 불러오는 중 오류가 발생했습니다: "+e.message)})},[]),(0,a.useEffect)(()=>{d&&(window.alert(d),u())},[d,u]);let x=e=>{c(e),m()},h=e.filter(e=>e.isPurchased),p=e.filter(e=>!e.isPurchased);return(0,s.jsxs)("div",{className:"h-full flex flex-col overflow-hidden",children:[(0,s.jsx)(y,{onClick:t}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:o?(0,s.jsx)("div",{className:"flex items-center justify-center h-full bg-white",children:(0,s.jsx)(M,{size:"lg"})}):e.length>0?(0,s.jsxs)(S,{onReorder:r,onMoveToCompleted:l,onMoveToPlanned:n,items:e,children:[p.length>0&&(0,s.jsx)("div",{className:"mr-[10px]",children:(0,s.jsxs)(T,{id:"pending",className:"mt-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-blue-200 mb-4",style:{fontWeight:700},children:"구입 예정"}),(0,s.jsx)("div",{className:"space-y-3",children:p.map(e=>(0,s.jsx)(F,{id:e.id,children:(0,s.jsx)("div",{onClick:()=>x(e),children:(0,s.jsx)(v,{item:e})})},e.id))})]})}),h.length>0&&(0,s.jsx)("div",{className:"mr-[10px]",children:(0,s.jsxs)(T,{id:"completed",className:"mt-12",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-blue-200 mb-4",style:{fontWeight:700},children:"구입 완료"}),(0,s.jsx)("div",{className:"space-y-3",children:h.map(e=>(0,s.jsx)(F,{id:e.id,children:(0,s.jsx)("div",{onClick:()=>x(e),children:(0,s.jsx)(v,{item:e})})},e.id))})]})})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,s.jsx)("div",{className:"text-gray-400 mb-4",children:(0,s.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,s.jsx)("p",{className:"text-gray-500 text-lg",children:"뭘 사야 잘 샀다고 소문이 날까?"}),(0,s.jsx)("button",{onClick:t,className:"mt-4 px-6 py-2 bg-yellow-100 text-yellow-600 rounded-lg hover:bg-yellow-200 transition-colors duration-200",children:"첫 항목 추가하기"})]})}),(0,s.jsx)(P,{}),(0,s.jsx)(C,{})]})},_="/api/schedule",R=async()=>{let e=await fetch(_),t=await e.json();if(!t.success)throw Error(t.error||"Failed to fetch schedule items");return t.data||[]},z=async e=>{let t=await fetch(_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!r.success)throw Error(r.error||"Failed to create schedule item");return r.data},W=async(e,t)=>{let r=await fetch("".concat(_,"/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await r.json();if(!s.success)throw Error(s.error||"Failed to update schedule item");return s.data},B=async e=>{let t=await fetch("".concat(_,"/").concat(e),{method:"DELETE"}),r=await t.json();if(!r.success)throw Error(r.error||"Failed to delete schedule item")},K={date:new Date().toISOString().split("T")[0],time:"",status:"예정",description:""},H=(0,n.v)((e,t)=>({items:[],selectedItem:null,isDetailPanelOpen:!1,isAddFormOpen:!1,scheduleForm:K,loading:!1,error:null,loadItems:async()=>{e({loading:!0,error:null});try{let t=(await R()).map(e=>({...e,status:e.status,completed:"완료"===e.status,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}));e({items:t,loading:!1})}catch(t){e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",loading:!1})}},addItem:async r=>{e({loading:!0,error:null});try{let s={date:r.date,time:r.time,status:r.status,description:r.description},a=await z(s),l={...a,status:a.status,completed:"완료"===a.status,createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)};e(e=>({items:[...e.items,l],loading:!1})),t().resetScheduleForm(),t().closeAddForm()}catch(t){e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",loading:!1})}},updateItem:async(t,r)=>{e({loading:!0,error:null});try{let s={id:t,date:r.date,time:r.time,status:r.status,description:r.description},a=await W(t,s),l={...a,status:a.status,completed:"완료"===a.status,createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)};e(e=>({items:e.items.map(e=>e.id===t?l:e),loading:!1,isAddFormOpen:!1,isDetailPanelOpen:!1,selectedItem:null})),window.alert("일정을 수정했어요 ! !")}catch(t){t instanceof Error&&t.message.includes("400")?window.alert("잘못 입력햇다 햇짠아 ! ! !"):t instanceof Error&&t.message.includes("500")?window.alert("서버가 주것습니다 -- ;;"):window.alert("먼지 모를 오류라네요"),e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",loading:!1})}},deleteItem:async t=>{e({loading:!0,error:null});try{await B(t),e(e=>({items:e.items.filter(e=>e.id!==t),loading:!1}))}catch(t){e({error:t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다",loading:!1})}},toggleItem:async e=>{let r=t().items.find(t=>t.id===e);if(!r)return;let s="예정"===r.status?"완료":"예정";await t().updateItem(e,{date:r.date,time:r.time||"",status:s,description:r.description})},selectItem:t=>{e({selectedItem:t})},openDetailPanel:()=>{e({isDetailPanelOpen:!0})},closeDetailPanel:()=>{e({isDetailPanelOpen:!1,selectedItem:null})},openAddForm:()=>{e({isAddFormOpen:!0})},closeAddForm:()=>{e({isAddFormOpen:!1,selectedItem:null}),t().resetScheduleForm()},updateScheduleForm:(t,r)=>{e(e=>({scheduleForm:{...e.scheduleForm,[t]:r}}))},resetScheduleForm:()=>{e({scheduleForm:K})},reorderItems:(t,r)=>{e(e=>{let s=[...e.items],[a]=s.splice(t,1);return s.splice(r,0,a),{items:s}})},moveToCompleted:async e=>{let r=t().items.find(t=>t.id===e);r&&await t().updateItem(e,{date:r.date,time:r.time||"",status:"완료",description:r.description})},moveToPlanned:async e=>{let r=t().items.find(t=>t.id===e);r&&await t().updateItem(e,{date:r.date,time:r.time||"",status:"예정",description:r.description})},clearError:()=>{e({error:null})}})),U=e=>new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}),V=e=>new Date("2000-01-01T".concat(e)).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),q=e=>"bg-yellow-100 text-yellow-600",J=e=>{var t;let{item:r}=e,{toggleItem:a,deleteItem:l,selectItem:n,openDetailPanel:i,openAddForm:o,updateScheduleForm:d}=H(),c=null==(t=window.__dragProps)?void 0:t[r.id],m=()=>{d("date",r.date),d("time",r.time||""),d("status",r.status),d("description",r.description),n(r),o()},u=()=>{window.confirm("일정을 삭제하시겠습니까?")&&l(r.id)};return(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-lg transition-all duration-300 group schedule-item ".concat(r.completed?"bg-green-50 hover:bg-green-100":"bg-gray-50 hover:bg-gray-100"),children:[(0,s.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),a(r.id)},onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},onPointerDown:e=>{e.stopPropagation()},className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-300 flex-shrink-0 z-20 ".concat(r.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-green-400"),children:r.completed&&(0,s.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{n(r),i()},style:{cursor:"pointer"},children:(0,s.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:U(r.date)}),r.time&&(0,s.jsx)("span",{className:"text-sm text-gray-500",children:V(r.time)}),(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium transition-all duration-300 ".concat(r.completed?"bg-green-200 text-green-700":q(r.status)),children:r.status})]}),(0,s.jsx)("div",{className:"text-lg font-medium line-clamp-2 transition-all duration-300 py-1 ".concat(r.completed?"text-green-600":"text-gray-700"),children:r.description})]})})}),(0,s.jsxs)("div",{className:"flex items-center gap-1 transition-opacity duration-200",children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),m()},className:"p-1.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-md transition-colors duration-200",title:"수정",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),u()},className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors duration-200",title:"삭제",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,s.jsx)("div",{...null==c?void 0:c.attributes,...null==c?void 0:c.listeners,className:"p-1.5 text-gray-300 cursor-grab active:cursor-grabbing",onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})})]})]})},G=["예정","완료"],X=()=>{var e;let{isAddFormOpen:t,selectedItem:r,scheduleForm:a,closeAddForm:l,updateScheduleForm:n,addItem:i,updateItem:o}=H(),d=!!r;return(0,s.jsx)(w,{isOpen:t,onClose:l,title:d?"일정 수정":"일정 추가",children:(0,s.jsx)(N,{showActions:!0,onSave:()=>{var e;a.date&&(null==(e=a.description)?void 0:e.trim())&&(d&&r?o(r.id,a):i(a))},saveText:d?"수정하기":"추가하기",isSaveDisabled:!a.date||!(null==(e=a.description)?void 0:e.trim()),children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["날짜 ",(0,s.jsx)("span",{className:"text-yellow-500 font-bold",children:"*"})]}),(0,s.jsx)("input",{type:"date",value:a.date,onChange:e=>n("date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"시간"}),(0,s.jsx)("input",{type:"time",value:a.time,onChange:e=>n("time",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["상태 ",(0,s.jsx)("span",{className:"text-yellow-500 font-bold",children:"*"})]}),(0,s.jsx)("div",{className:"flex gap-2",children:G.map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>n("status",e),className:"flex-1 px-4 py-2 rounded-lg border-2 transition-all duration-200 font-medium text-sm ".concat(a.status===e?"완료"===e?"border-green-500 bg-green-500 text-white":"border-blue-500 bg-blue-500 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"),children:e},e))})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["일정 내용 ",(0,s.jsx)("span",{className:"text-yellow-500 font-bold",children:"*"})]}),(0,s.jsx)("textarea",{value:a.description,onChange:e=>n("description",e.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent resize-none",placeholder:"일정 내용을 입력하세요",required:!0})]})]})})})},Q=()=>{let{selectedItem:e,isDetailPanelOpen:t,closeDetailPanel:r,deleteItem:a}=H();return(0,s.jsx)(w,{isOpen:t,onClose:r,children:e&&(0,s.jsx)(N,{showActions:!0,onDelete:()=>a(e.id),saveText:"수정",deleteText:"삭제",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"날짜"}),(0,s.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:new Date(e.date).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})})]}),e.time&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"시간"}),(0,s.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:(e=>{let[t,r]=e.split(":");return"".concat(t,":").concat(r)})(e.time)})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"상태"}),(0,s.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat("완료"===e.status?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:e.status})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"일정 내용"}),(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 max-h-48 overflow-y-auto",children:(0,s.jsx)("div",{className:"text-gray-800 whitespace-pre-wrap break-words",children:e.description})})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"생성일"}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.createdAt.toLocaleDateString("ko-KR")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"수정일"}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.updatedAt.toLocaleDateString("ko-KR")})]})]})})]})})})},Y=()=>{let{items:e,openAddForm:t,reorderItems:r,moveToCompleted:l,moveToPlanned:n,loadItems:i,loading:o,error:d,selectItem:c,openDetailPanel:m,clearError:u}=H();(0,a.useEffect)(()=>{i().catch(e=>{window.alert("일정 리스트를 불러오는 중 오류가 발생했습니다: "+e.message)})},[]),(0,a.useEffect)(()=>{d&&(window.alert(d),u())},[d,u]);let x=e=>{c(e),m()},h=e.filter(e=>"완료"===e.status),p=e.filter(e=>"예정"===e.status);return(0,s.jsxs)("div",{className:"h-full flex flex-col overflow-hidden",children:[(0,s.jsx)(y,{onClick:t}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:o?(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsx)(M,{})}):e.length>0?(0,s.jsxs)(S,{onReorder:r,onMoveToCompleted:l,onMoveToPlanned:n,items:e,children:[p.length>0&&(0,s.jsxs)(T,{id:"planned",className:"mt-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-blue-200 mb-4",style:{fontWeight:700},children:"예정된 일정"}),(0,s.jsx)("div",{className:"space-y-3",children:p.map(e=>(0,s.jsx)(F,{id:e.id,children:(0,s.jsx)("div",{onClick:()=>x(e),children:(0,s.jsx)(J,{item:e})})},e.id))})]}),h.length>0&&(0,s.jsxs)(T,{id:"completed",className:"mt-12",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-blue-200 mb-4",style:{fontWeight:700},children:"완료된 일정"}),(0,s.jsx)("div",{className:"space-y-3",children:h.map(e=>(0,s.jsx)(F,{id:e.id,children:(0,s.jsx)("div",{onClick:()=>x(e),children:(0,s.jsx)(J,{item:e})})},e.id))})]})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,s.jsx)("div",{className:"text-gray-400 mb-4",children:(0,s.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,s.jsx)("p",{className:"text-gray-500 text-lg",children:"바쁘다 바빠! 이사 일정 계획하기"}),(0,s.jsx)("button",{onClick:t,className:"mt-4 px-6 py-2 bg-yellow-100 text-yellow-600 rounded-lg hover:bg-yellow-200 transition-colors duration-200",children:"첫 일정 추가하기"})]})}),(0,s.jsx)(X,{}),(0,s.jsx)(Q,{})]})},Z=()=>{let{activeTab:e}=i();return(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 border-t-0 flex-1 flex flex-col min-h-0 p-6",children:(0,s.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:["purchase"===e&&(0,s.jsx)(O,{}),"schedule"===e&&(0,s.jsx)(Y,{})]})})},$=()=>(0,s.jsxs)("div",{className:"h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col",children:[(0,s.jsx)("div",{className:"text-center py-4 flex-shrink-0 my-2 relative z-0",children:(0,s.jsx)("h1",{className:"text-3xl font-black text-blue-200 cursor-default select-none",children:"⊹⁺⸜ C H E C K L I S T ⸝⁺⊹"})}),(0,s.jsx)("div",{className:"flex-1 px-4 pb-4 flex flex-col min-h-0",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto w-full flex-1 flex flex-col min-h-0",children:[(0,s.jsx)("div",{className:"relative z-10 flex-shrink-0",children:(0,s.jsx)(o,{})}),(0,s.jsx)("div",{className:"relative z-10 flex-1 flex flex-col min-h-0",children:(0,s.jsx)(Z,{})})]})})]})},6988:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/MainPage",function(){return r(2103)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[856,636,593,792],()=>t(6988)),_N_E=e.O()}]);